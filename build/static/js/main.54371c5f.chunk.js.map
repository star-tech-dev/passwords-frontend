{"version":3,"sources":["store/auth/domain.ts","store/locker/domain.ts","api/index.ts","store/locker/events.ts","store/modals/domain.ts","store/modals/events.ts","store/auth/events.ts","store/auth/store.ts","router/routes.ts","router/middlewares/session.ts","router/middlewares/accessor.ts","store/locker/store.ts","router/middlewares/locker.ts","router/index.ts","store/app/domain.ts","store/app/events.ts","components/icons/user.tsx","components/user-bar/index.tsx","components/aside/main/nav-item.tsx","components/icons/shield.tsx","components/icons/star/index.tsx","components/icons/key.tsx","components/icons/lock/index.tsx","components/aside/main/index.tsx","store/app/types.ts","store/items/domain.ts","store/items/events.ts","store/items/store.ts","store/app/store.ts","helpers/next-tick.ts","store/modals/store.ts","components/icons/info.tsx","components/ui/input/index.tsx","components/icons/search.tsx","components/icons/cross.tsx","components/search-bar/index.tsx","components/loader/round/index.tsx","components/item/image/index.tsx","helpers/item.ts","components/item/index.tsx","components/ui/button/index.tsx","components/items/index.tsx","components/icons/add.tsx","components/aside/sub/item-list.tsx","components/icons/settings.tsx","components/icons/about.tsx","components/aside/sub/menu/index.tsx","components/aside/sub/index.tsx","layouts/default/index.tsx","layouts/simple/index.tsx","pages/home/index.tsx","components/auth/login-form/index.tsx","components/auth/register-form.tsx","pages/auth/index.tsx","pages/unlock/index.tsx","components/ui/textarea/index.tsx","helpers/image.ts","components/item-page/head/index.tsx","components/icons/eye.tsx","components/ui/password-field/index.tsx","components/icons/check.tsx","pages/item/add/index.tsx","components/icons/copy.tsx","components/item-page/field/index.tsx","components/icons/edit.tsx","components/icons/delete.tsx","pages/item/index.tsx","pages/item/edit/index.tsx","pages/settings/index.tsx","components/settings/action-bar/action-bar.tsx","components/icons/angle/index.tsx","components/ui/dropdown/index.tsx","components/settings/password-dropdown/index.tsx","components/settings/security-code-dropdown/index.tsx","pages/settings/profile/index.tsx","pages/settings/general.tsx","pages/settings/about.tsx","pages/not-found/index.tsx","components/loader/page-loader/index.tsx","components/modals/wrapper/index.tsx","components/modals/set-security-code/index.tsx","helpers/password-generator.ts","components/ui/checkbox/index.tsx","components/ui/safety-range/index.tsx","components/modals/password-generator/index.tsx","components/modals/delete-item/index.tsx","components/modals/controller/index.tsx","app.tsx","index.tsx"],"names":["AuthDomain","createDomain","LockerDomain","sendRequest","options","mergedOptions","method","withCredentials","url","process","includes","Object","prototype","hasOwnProperty","call","params","data","axios","then","res","catch","err","response","status","setIsAppLocked","lock","createEffect","use","unlock","securityCode","checkIsAppLocked","createEvent","ModalsDomain","openModal","closeModal","closeLastModal","closeAllModals","register","effect","payload","username","password","login","logout","checkAuth","user","checkUserSecurityCode","event","onSuccessSetSecurityCode","setUserSecurityCode","changeSecurityCode","onProfileUpdate","updateProfile","console","log","changePassword","$auth","store","on","done","state","result","isAppLocked","hasSecurityCode","updatedUser","name","path","private","forGuests","_checkAuth","a","getState","session","router","toState","fromState","onActivateHandlers","transitionPath","toActivate","map","segment","routes","find","r","onActivate","filter","Boolean","Promise","all","callback","routeData","reduce","accData","rData","assign","canActivate","routeName","foundRoute","i","isRouterOnlyForGuests","isRouterOnlyForAuthed","accessor","navigate","$locker","createStore","isLocked","lastPath","routerState","value","locker","configureRouter","createRouter","allowNotFound","caseSensitive","autoCleanUp","usePlugin","loggerPlugin","browserPlugin","useMiddleware","AppDomain","setMounted","itemsFiltered","setItemsMode","setItemToDelete","onOpenGenerator","onCloseGenerator","onSaveGenerated","UserIcon","className","width","height","viewBox","version","xmlns","stroke","strokeWidth","fill","fillRule","transform","d","id","UserBar","useState","isActive","setIsActive","useStore","authStore","useRouter","checkRoute","route","useEffect","unsubscribe","subscribe","NavItem","props","children","href","onClick","e","preventDefault","ShieldIcon","StarIcon","KeyIcon","IconLock","MainAside","ItemsMode","GeneratorMode","lockApp","ItemsDomain","getItems","getItem","createItem","updateItem","toggleItemFavouriteStatus","deleteItem","$items","push","_id","isFavourite","initialState","mounted","itemsMode","default","itemToDelete","generatorMode","$app","nextTick","cb","setTimeout","$modals","set","Set","Array","from","slice","InfoIcon","Input","forwardRef","ref","useRef","error","localError","setLocalError","localId","Math","random","toFixed","innerRef","iconError","React","classList","theme","boxShadow","focus","current","select","tippy","placement","content","autoFocus","htmlFor","onTooltipClick","obj","beforeInput","inputProps","type","onInput","displayName","SearchIcon","CrossIcon","SearchBar","_timeout","_setTimeout","query","setQuery","filterItems","onChange","onKeyUp","length","watchFocus","target","document","activeElement","contains","parentElement","keyCode","onFieldKeyUp","clearTimeout","addEventListener","field","querySelector","removeEventListener","placeholder","RoundLoader","ItemImage","item","style","backgroundColor","color","image","crossOrigin","src","alt","isLoading","onLoad","onImageLoad","onError","onImageError","itemName","Index","localActive","setLocalActive","subtitle","note","Button","buttonProps","setButtonProps","size","fullWidth","loading","disabled","fieldProps","update","Items","setIsLoading","items","onMounted","arr","mode","favourites","searchQuery","list","IconAdd","SubAsideItemList","setMode","setSearchQuery","searchField","createRef","_mode","IconSettings","IconAbout","SubAsideProfileMenu","SubAsideWrapper","DefaultLayout","SimpleLayout","HomePage","onRegisterShow","loginUsername","setLoginUsername","loginPassword","setLoginPassword","usernameError","setUsernameError","passwordError","setPasswordError","usernameField","passwordField","sendLoginRequest","successResponse","onSubmit","errorsFound","message","validateForm","forEach","onBlur","RegisterForm","onLoginShow","setUsername","setPassword","sendRegisterRequest","AuthPage","UnlockPage","_loading","_setLoading","code","setCode","codeFieldError","setCodeFieldError","codeField","_logout","setInputProps","rows","colors","_componentToHex","hex","toString","ItemPageHead","imageSrc","localSrc","setLocalSrc","localColor","setLocalColor","randomColor","setRandomColor","itemUrl","encodeURIComponent","onImageChange","onColorChange","_randomColor","floor","rgb","rgbColor","imgEl","defaultRGB","canvas","createElement","context","getContext","colorMap","naturalHeight","offsetHeight","naturalWidth","offsetWidth","drawImage","getImageData","blockSize","biggest","keys","amount","split","getImageRGB","hexColor","base64","imgSelector","toDataURL","getImageBase64","favouritesButtonId","toggleFavourites","EyeIcon","PasswordField","fieldType","setFieldType","onGenerate","off","generator","_props","CheckIcon","AddItemPage","useRoute","setImage","setColor","setName","setUrl","setNote","nameError","setNameError","nameField","create","group","autoComplete","IconCopy","ItemField","copyValue","_tooltip","navigator","clipboard","writeText","_tippy","show","hide","trigger","animation","duration","textarea","readOnly","IconEdit","IconDelete","ItemPage","setData","getTooltip","tooltip","getElementById","updateTooltip","setContent","createTooltip","destroyTooltip","destroy","EditItemPage","save","getData","SettingsPage","SettingsActionBar","AngleDirection","left","right","IconAngle","direction","UIDropdown","isOpened","setIsOpened","angleDirection","setAngleDirection","close","onOpen","onClose","bottom","label","SettingsPasswordDropdown","currentPassword","setCurrentPassword","newPassword","setNewPassword","repeatPassword","setRepeatPassword","currentPasswordError","setCurrentPasswordError","newPasswordError","setNewPasswordError","repeatPasswordError","setRepeatPasswordError","passwordUpdatedDate","setPasswordUpdatedDate","currentPasswordField","newPasswordField","repeatPasswordField","dropdown","updatePasswordDate","date","passwordUpdated","lastUpdated","moment","fromNow","Date","SettingsSecurityCodeDropdown","currentCode","setCurrentCode","newCode","setNewCode","repeatCode","setRepeatCode","currentCodeError","setCurrentCodeError","newCodeError","setNewCodeError","repeatCodeError","setRepeatCodeError","codeUpdatedDate","setCodeUpdatedDate","currentCodeField","newCodeField","repeatCodeField","updateCodeDate","securityCodeUpdated","SettingsProfilePage","hasChanged","setHasChanged","sendLogoutRequest","SettingsGeneralPage","defaultValue","SettingsAboutPage","rel","NotFoundPage","Loader","ModalWrapper","_mounted","_setMounted","modals","setShow","unwatch","watch","closable","undefined","open","heading","SetSecurityCodeModal","fieldError","setFieldError","defaultOptions","smallLetters","largeLetters","numbers","symbols","UICheckbox","SafetyRange","holdLoop","setHoldLoop","isMouseDown","setIsMouseDown","isDragging","setIsDragging","domRef","element","min","max","step","onMouseDown","hold","clearInterval","oldVal","setInterval","input","newVal","getOwnPropertyDescriptor","window","HTMLInputElement","Event","bubbles","dispatchEvent","makeHoldLoop","onMouseUp","onMouseMove","n","Number","isNaN","PasswordGeneratorModal","appStore","setLength","setSmallLetters","setLargeLetters","setNumbers","setSymbols","focusAndSelect","generate","_options","charset","small","large","charAt","generatePassword","tooltipElement","checked","DeleteItemModal","itemsStore","onDelete","warn","getItemName","onConfirm","ModalController","SIMPLE_LAYOUT_PAGES","App","PageSwitcher","unwatchMounted","ReactDOM","render","start"],"mappings":"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","file":"static/js/main.54371c5f.chunk.js","sourcesContent":["import { createDomain } from 'effector'\n\nexport const AuthDomain = createDomain()\n","import { createDomain } from 'effector'\n\nexport const LockerDomain = createDomain()\n","import axios, { AxiosRequestConfig } from 'axios'\nimport { setIsAppLocked } from '../store/locker/events'\n\nexport const sendRequest = (options: AxiosRequestConfig) => {\n  const mergedOptions = {\n    method: 'get',\n    withCredentials: true,\n    ...options\n  } as AxiosRequestConfig\n\n  mergedOptions.url = `${process.env.REACT_APP_API_BASE_URL}${options.url}`\n\n  if (mergedOptions.method && ['get', 'delete'].includes(mergedOptions.method) && Object.prototype.hasOwnProperty.call(mergedOptions, 'data')) {\n    mergedOptions.params = options.data\n    delete mergedOptions.data\n  }\n\n  return axios(mergedOptions)\n    .then(res => res.data)\n    .catch(err => {\n      if (err?.response?.status === 423) {\n        setIsAppLocked(true)\n      }\n      throw err\n    })\n}\n\nexport default { sendRequest }\n","import { LockerDomain } from './domain'\nimport { sendRequest } from '../../api'\nimport { SecurityCode } from './types'\n\nexport const lock = LockerDomain.createEffect<void, void>().use(() => {\n  return sendRequest({\n    method: 'post',\n    url: '/lock'\n  })\n})\n\nexport const unlock = LockerDomain.createEffect<SecurityCode, void>().use((securityCode: SecurityCode) => {\n  return sendRequest({\n    method: 'post',\n    url: '/unlock',\n    data: { securityCode }\n  })\n})\n\nexport const checkIsAppLocked = LockerDomain.createEvent()\n\nexport const setIsAppLocked = LockerDomain.createEvent<boolean>()\n","import { createDomain } from 'effector'\n\nexport const ModalsDomain = createDomain()\n","import { ModalsDomain } from './domain'\nimport { ModalName } from './types'\n\nexport const openModal = ModalsDomain.createEvent<ModalName>('open modal')\n\nexport const closeModal = ModalsDomain.createEvent<ModalName>('close modal')\n\nexport const closeLastModal = ModalsDomain.createEvent('close last modal')\n\nexport const closeAllModals = ModalsDomain.createEvent('close all modals')\n","import { AuthDomain } from './domain'\nimport { sendRequest } from '../../api'\nimport {\n  RegisterPayload,\n  LoginPayload,\n  LoginResponse,\n  AuthCheckResponse,\n  SecurityCode,\n  User,\n  UserProps,\n  ChangePasswordPayload, ChangeSecurityCodePayload\n} from './types'\n\nexport const register = AuthDomain.effect<RegisterPayload, User>().use((payload) => {\n  return sendRequest({\n    method: 'post',\n    data: {\n      username: payload.username,\n      password: payload.password\n    },\n    url: '/register'\n  })\n})\n\nexport const login = AuthDomain.effect<LoginPayload, LoginResponse>().use((payload) => {\n  return sendRequest({\n    method: 'post',\n    data: {\n      username: payload.username,\n      password: payload.password\n    },\n    url: '/login'\n  })\n})\n\nexport const logout = AuthDomain.effect<void, void>().use(() => {\n  return sendRequest({\n    url: '/logout'\n  })\n})\n\nexport const checkAuth = AuthDomain.effect<void, AuthCheckResponse>().use(() => {\n  return sendRequest({\n    url: '/auth'\n  }).catch(() => ({ user: null }))\n})\n\nexport const checkUserSecurityCode = AuthDomain.event()\n\nexport const onSuccessSetSecurityCode = AuthDomain.event()\n\nexport const setUserSecurityCode = AuthDomain.effect<SecurityCode, void>().use((securityCode) => {\n  return sendRequest({\n    method: 'post',\n    url: '/set-security-code',\n    data: { securityCode }\n  }).then(res => {\n    onSuccessSetSecurityCode()\n    return res\n  })\n})\n\nexport const changeSecurityCode = AuthDomain.effect<ChangeSecurityCodePayload, void>().use(payload => {\n  return sendRequest({\n    method: 'post',\n    url: '/security-code',\n    data: payload\n  })\n})\n\nexport const onProfileUpdate = AuthDomain.event<UserProps>()\n\nexport const updateProfile = AuthDomain.effect<UserProps, User>().use(payload => {\n  return sendRequest({\n    method: 'put',\n    url: '/user',\n    data: payload\n  }).then(res => {\n    console.log('res', res)\n    onProfileUpdate(res)\n    return res\n  })\n})\n\nexport const changePassword = AuthDomain.effect<ChangePasswordPayload, void>().use(payload => {\n  return sendRequest({\n    method: 'post',\n    url: '/password',\n    data: payload\n  })\n})\n","import { AuthState, User } from './types'\nimport { AuthDomain } from './domain'\nimport { checkIsAppLocked, setIsAppLocked } from '../locker/events'\nimport { closeModal, openModal } from '../modals/events'\nimport {\n  register,\n  login,\n  logout,\n  checkAuth,\n  checkUserSecurityCode,\n  onSuccessSetSecurityCode,\n  onProfileUpdate\n} from './events'\n\nconst initialState: AuthState = {\n  user: null\n}\n\nexport const $auth = AuthDomain.store<AuthState>(initialState)\n  .on(register.done, (state, { result }) => {\n    state = {\n      ...state,\n      user: result\n    }\n    return state\n  })\n  .on(login.done, (state, { result }) => {\n    state = {\n      ...state,\n      user: result.user\n    }\n    checkIsAppLocked()\n    return state\n  })\n  .on(logout.done, (state) => {\n    state = {\n      ...state,\n      user: null\n    }\n    return state\n  })\n  .on(checkAuth.done, (state, { result }) => {\n    state = {\n      ...state,\n      user: result.user\n    }\n    setIsAppLocked(result.isAppLocked)\n    return state\n  })\n  .on(checkUserSecurityCode, (state) => {\n    state.user && !state.user.hasSecurityCode && openModal('set_security_code')\n    return state\n  })\n  .on(onSuccessSetSecurityCode, (state) => {\n    closeModal('set_security_code')\n    return state\n  })\n  .on(onProfileUpdate, (state, data) => {\n    const updatedUser = { ...state.user, ...data } as User\n    return {\n      ...state,\n      user: updatedUser\n    }\n  })\n\nexport default { $auth }\n","export default [\n  {\n    name: 'home',\n    path: '/',\n    private: true\n  },\n  {\n    name: 'favourites',\n    path: '/favourites',\n    private: true\n  },\n\n  {\n    name: 'auth',\n    path: '/auth',\n    forGuests: true\n  },\n  {\n    name: 'unlock',\n    path: '/unlock',\n    private: true\n  },\n\n  {\n    name: 'item',\n    path: '/item/:id',\n    private: true\n  },\n  {\n    name: 'item.edit',\n    path: '/edit',\n    private: true\n  },\n  {\n    name: 'add',\n    path: '/add',\n    private: true\n  },\n\n  {\n    name: 'settings',\n    path: '/settings',\n    private: true\n  },\n  {\n    name: 'settings.profile',\n    path: '/profile',\n    private: true\n  },\n  {\n    name: 'settings.general',\n    path: '/general',\n    private: true\n  },\n  {\n    name: 'settings.about',\n    path: '/about',\n    private: true\n  },\n\n  {\n    name: '@@router5/UNKNOWN_ROUTE',\n    path: '/404'\n  }\n]\n","import transitionPath from 'router5-transition-path'\nimport { $auth } from '../../store/auth/store'\n// import { $locker } from '../../store/locker/store'\nimport { checkAuth } from '../../store/auth/events'\nimport { State } from 'router5/dist/types/base'\nimport { Router } from 'router5/dist/types/router'\n// import { checkIsAppLocked } from '../../store/locker/events'\n\nimport routes from '../routes'\n\nasync function _checkAuth () {\n  const user = $auth.getState().user\n  if (!user) {\n    await checkAuth()\n  }\n}\n\nexport const session = (router: Router) => (toState: State, fromState: State) => {\n  const { toActivate } = transitionPath(toState, fromState)\n  const onActivateHandlers =\n    toActivate\n      .map(segment => (routes as any).find((r: State) => r.name === segment).onActivate)\n      .filter(Boolean)\n\n  return Promise\n    .all(onActivateHandlers.map(callback => callback()))\n    // actions before app mounting\n    .then(async data => {\n      await _checkAuth()\n      return data\n    })\n    .then(data => {\n      const routeData = data.reduce((accData: any, rData: any) => Object.assign(accData, rData), {})\n      return { ...toState, data: routeData }\n    })\n}\n\nexport default session\n","import { $auth } from '../../store/auth/store'\nimport routes from '../routes'\nimport { State } from 'router5/dist/types/base'\n\nfunction showOnlyForGuests (): boolean {\n  return !$auth.getState().user\n}\n\nfunction showOnlyForAuthed (): boolean {\n  return !!$auth.getState().user\n}\n\nconst canActivate = (routeName: string): boolean => {\n  const foundRoute = routes.find(i => i.name === routeName)\n  const isRouterOnlyForGuests = foundRoute ? !!foundRoute.forGuests : false\n  const isRouterOnlyForAuthed = foundRoute ? !!foundRoute.private : false\n\n  if (isRouterOnlyForGuests) {\n    return showOnlyForGuests()\n  } else if (isRouterOnlyForAuthed) {\n    return showOnlyForAuthed()\n  } else {\n    return true\n  }\n}\n\nexport const accessor = (router: any) => (toState: State, fromState: State, done: any) => {\n  if (!canActivate(toState.name)) {\n    // redirecting from unavailable pages to default\n    return router.navigate($auth.getState().user ? 'home' : 'auth')\n  }\n  done()\n}\n\nexport default accessor\n","import { createStore } from 'effector'\nimport { checkIsAppLocked, lock, setIsAppLocked, unlock } from './events'\nimport { $auth } from '../auth/store'\nimport { router } from '../../index'\nimport { State } from './types'\n\nconst initialState: State = {\n  isLocked: false,\n  lastPath: null\n}\n\nexport const $locker = createStore(initialState)\n  .on(lock.done, state => {\n    state = {\n      ...state,\n      isLocked: true\n    }\n    return state\n  })\n  .on(unlock.done, state => {\n    state = {\n      ...state,\n      isLocked: false\n    }\n    return state\n  })\n  .on(checkIsAppLocked, state => {\n    const routerState = router.getState()\n    const isAuthed = !!$auth.getState().user\n\n    if (isAuthed && routerState) {\n      if (state.isLocked && routerState.name !== 'unlock') {\n        router.navigate('unlock')\n      }\n      if (!state.isLocked && routerState.name === 'unlock') {\n        router.navigate('home')\n        // TODO: last url\n      }\n    }\n    return state\n  })\n  .on(setIsAppLocked, (state, value) => {\n    checkIsAppLocked()\n    return {\n      ...state,\n      isLocked: value\n    }\n  })\n\nexport default $locker\n","import { State } from 'router5/dist/types/base'\nimport { $locker } from '../../store/locker/store'\n\nexport const locker = (router: any) => (toState: State, fromState: State, done: any) => {\n  const isLocked = $locker.getState().isLocked\n\n  if (isLocked && toState.name !== 'unlock') {\n    return router.navigate('unlock')\n  }\n  done()\n}\n\nexport default locker\n","import createRouter from 'router5'\nimport loggerPlugin from 'router5-plugin-logger'\nimport browserPlugin from 'router5-plugin-browser'\n\n// middlewares and plugins\nimport session from './middlewares/session'\nimport accessor from './middlewares/accessor'\nimport locker from './middlewares/locker'\n\n// routes\nimport routes from './routes'\n\nexport function configureRouter () {\n  const router = createRouter(routes, {\n    allowNotFound: true,\n    caseSensitive: false,\n    autoCleanUp: true\n  })\n\n  router.usePlugin(loggerPlugin)\n  router.usePlugin(browserPlugin())\n\n  // middleware\n  router.useMiddleware(session, accessor, locker)\n\n  return router\n}\n\nexport default { configureRouter }\n","import { createDomain } from 'effector'\n\nexport const AppDomain = createDomain()\n","import { ItemsMode, MountedState, GeneratorMode } from './types'\nimport { AppDomain } from './domain'\n\nexport const setMounted = AppDomain.event<MountedState>()\n\nexport const toggleMasonryItem = AppDomain.event<void>()\n\nexport const itemsFiltered = AppDomain.event<void>()\n\nexport const setItemsMode = AppDomain.event<ItemsMode>()\n\nexport const setItemToDelete = AppDomain.createEvent<string>()\n\nexport const onOpenGenerator = AppDomain.createEvent<GeneratorMode>()\n\nexport const onCloseGenerator = AppDomain.createEvent()\n\nexport const onSaveGenerated = AppDomain.createEvent<string>()\n","import React from 'react'\n\nfunction UserIcon () {\n  return (\n    <svg className=\"icon -user\" width=\"18px\" height=\"20px\" viewBox=\"0 0 18 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-33.000000, -648.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(33.000000, 648.000000)\">\n            <path d=\"M8.9525727,0 C6.09541124,0 3.75982096,2.33559028 3.75982096,5.19275174 C3.75982096,8.04991319 6.09541124,10.3855035 8.9525727,10.3855035 C11.8097342,10.3855035 14.1453244,8.04991319 14.1453244,5.19275174 C14.1453244,2.33559028 11.8097342,0 8.9525727,0 Z\" id=\"Path\"></path>\n            <path d=\"M17.8641612,14.5351562 C17.7280935,14.1950087 17.5467133,13.8775608 17.3426335,13.5827691 C16.2995345,12.0407986 14.6895953,11.0203993 12.8755328,10.7709635 C12.6487967,10.7483073 12.3993609,10.7936198 12.2179373,10.9296875 C11.2655501,11.6326389 10.1317828,11.9954427 8.9526161,11.9954427 C7.77344943,11.9954427 6.63968207,11.6326389 5.68729492,10.9296875 C5.50587131,10.7936198 5.25643554,10.7256076 5.02969943,10.7709635 C3.21563693,11.0203993 1.58299804,12.0407986 0.562598739,13.5827691 C0.358518878,13.8775608 0.177095267,14.2177083 0.0410709616,14.5351562 C-0.0269411912,14.671224 -0.00428494121,14.8299479 0.0637272116,14.9660156 C0.245150823,15.2834635 0.471886934,15.6009549 0.675966795,15.8730469 C0.993414712,16.3039062 1.33356228,16.6893663 1.71906575,17.0521701 C2.03651367,17.3696181 2.39931749,17.6644097 2.76216471,17.9592014 C4.55352756,19.297092 6.70773763,20 8.92995985,20 C11.1521821,20 13.3063921,19.2970486 15.097755,17.9592014 C15.4605588,17.6871094 15.8233626,17.3696181 16.1408539,17.0521701 C16.5036578,16.6893663 16.8664616,16.3038628 17.1839529,15.8730469 C17.410689,15.5782552 17.6148123,15.2834635 17.7961925,14.9660156 C17.9095171,14.8299479 17.9321734,14.6711806 17.8641612,14.5351562 Z\" id=\"Path\"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default UserIcon\n","import React, { useEffect, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport { Link, useRouter } from 'react-router5'\nimport { Unsubscribe as UnsubscribeRouter } from 'router5/dist/types/base'\nimport { State as RouterState } from 'router5'\nimport { $auth as authStore } from '../../store/auth/store'\nimport { User } from '../../store/auth/types'\n// import { lock } from '../../../store/locker/events'\n\nimport './_index.scss'\n\nimport IconUser from '../icons/user'\n\nfunction UserBar () {\n  const [isActive, setIsActive] = useState(false)\n  const user = useStore(authStore).user as User\n  const router = useRouter()\n\n  // const lockApp = (e: React.FormEvent) => {\n  //   e.preventDefault()\n  //   lock()\n  // }\n\n  const checkRoute = (route: RouterState) => {\n    setIsActive(route.name.includes('settings'))\n  }\n\n  useEffect(() => {\n    checkRoute(router.getState())\n    const unsubscribe = router.subscribe(({ route }) => {\n      checkRoute(route)\n    }) as UnsubscribeRouter\n\n    return () => {\n      unsubscribe()\n    }\n  }, [])\n\n  if (user) {\n    return (\n      <Link routeName=\"settings\" className={`component -user-bar flex a-center ${isActive && 'active'}`}>\n        <div className=\"photo flex center\">\n          <div className=\"icon-container -user\">\n            <IconUser />\n          </div>\n        </div>\n        <div>\n          <div className=\"name\">{user.username}</div>\n          <div>account &amp; settings</div>\n        </div>\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default UserBar\n","import React, { ComponentProps } from 'react'\nimport { Link } from 'react-router5'\n\ninterface NavItemProps extends ComponentProps<any> {\n  children?: any,\n  routeName?: string,\n  className?: string\n}\n\nfunction NavItem (props: NavItemProps) {\n  const onClick = (e: React.MouseEvent) => {\n    e.preventDefault()\n    props.onClick && props.onClick()\n  }\n\n  return (\n    <div className=\"component -nav-item\">\n      {props.routeName\n        ? <Link {...props}>\n        {props.children}\n      </Link>\n        : <a {...props} href={props.href || '#'} onClick={onClick}>\n        {props.children}\n      </a>}\n    </div>\n  )\n}\n\nexport default NavItem\n","import React from 'react'\n\nfunction ShieldIcon () {\n  return (\n    <svg className=\"icon -shield\" width=\"17px\" height=\"20px\" viewBox=\"0 0 17 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-37.000000, -50.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(37.000000, 50.000000)\">\n            <path d=\"M15.8338858,0 L0.833550598,0 C0.607657641,0 0.412305859,0.0825356624 0.247532497,0.247309025 C0.0824984171,0.412603821 0,0.607918358 0,0.833364371 L0,10.8335878 C0,11.5803196 0.145182316,12.3202726 0.436291854,13.053745 C0.727140676,13.7872174 1.08730307,14.4382286 1.51718872,15.0069276 C1.94685091,15.5756639 2.45882528,16.1290923 3.05374502,16.6670267 C3.64821781,17.2051846 4.19732578,17.6522031 4.70084547,18.0082312 C5.20414168,18.3638869 5.72956162,18.7000261 6.27636039,19.0173563 C6.82319639,19.3337182 7.21159075,19.5484748 7.44184141,19.6617379 C7.67183135,19.7741443 7.85623301,19.8611866 7.99526984,19.9223062 C8.09944504,19.9742635 8.21203769,20 8.33375545,20 C8.45524973,20 8.5681031,19.97404 8.67224105,19.9223062 C8.81105442,19.8611866 8.99545607,19.7743305 9.22566948,19.6617379 C9.45562218,19.5482513 9.84409103,19.3337182 10.3911133,19.0173563 C10.9379493,18.7000261 11.4631457,18.3638869 11.9666282,18.0082312 C12.4699616,17.6522031 13.0191069,17.2051846 13.6138031,16.6670267 C14.2082759,16.1288689 14.7206972,15.5754032 15.1503222,15.0069276 C15.5800216,14.4381914 15.940184,13.7872174 16.231219,13.053745 C16.5220679,12.3202726 16.6674736,11.5802823 16.6674736,10.8335878 L16.6674736,0.833140899 C16.6674736,0.607694886 16.5847518,0.412603821 16.4199412,0.247122798 C16.2547208,0.0822749451 16.0593318,0 15.8338858,0 Z M14.2000447,12.2684644 C13.98391,12.8132519 13.7163768,13.2969198 13.3972215,13.7193564 C13.0781035,14.1417185 12.6974189,14.5529442 12.2559127,14.9527357 C11.8141458,15.3525271 11.4061231,15.6846065 11.0322545,15.9490484 C10.6582741,16.2132668 10.2682037,16.4628478 9.86178256,16.6987597 C9.45558494,16.9337405 9.16678461,17.0933368 8.99605199,17.1774368 C8.82509591,17.2608663 8.68810756,17.325636 8.58512421,17.3709263 C8.50787739,17.4094752 8.45539333,17.4241988 8.36511064,17.4241988 C8.27482794,17.4241988 8.24003974,17.4293552 8.16117597,17.3709263 C8.10856331,17.3319737 8.08225698,17.2524658 8.08225698,17.1324027 C8.08225698,7.6633853 8.08225698,2.87096747 8.08225698,2.75514917 C8.08225698,2.63266168 8.16611464,2.57141793 8.33382994,2.57141793 L13.9052479,2.57141793 C14.0727774,2.57141793 14.2179597,2.63272375 14.3406086,2.75514917 C14.463034,2.87802153 14.5243771,3.02298037 14.5243771,3.19050989 L14.5243771,10.6191664 C14.5241908,11.173675 14.4161049,11.7234534 14.2000447,12.2684644 Z\" id=\"Shape\"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default ShieldIcon\n","import React from 'react'\n\nimport './_index.scss'\n\nfunction StarIcon () {\n  return (\n    <svg className=\"icon -star\" width=\"19px\" height=\"18px\" viewBox=\"0 0 19 18\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-36.000000, -95.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(20.000000, 86.000000)\">\n            <g transform=\"translate(16.000000, 9.000000)\">\n              <path d=\"M18.7338639,6.80198398 C18.6109079,6.42165181 18.2735674,6.15152141 17.8744622,6.11555178 L12.4532244,5.62329826 L10.3095211,0.605751291 C10.1514554,0.238030021 9.79147258,1.30335371e-16 9.3915076,1.30335371e-16 C8.99154262,1.30335371e-16 8.63155982,0.238030021 8.47349411,0.606611141 L6.32979077,5.62329826 L0.907693133,6.11555178 C0.509304484,6.15238123 0.172823779,6.42165181 0.0491513339,6.80198398 C-0.0745211115,7.18231611 0.0396931686,7.59947772 0.341064132,7.86244288 L4.43887794,11.4562521 L3.23052802,16.7790392 C3.14210869,17.1704059 3.29401222,17.5749566 3.61874195,17.8096906 C3.79328777,17.9357992 3.99749775,18 4.2034274,18 C4.38098262,18 4.55710477,17.9521361 4.71517048,17.8575546 L9.3915076,15.0626722 L14.0661251,17.8575546 C14.4081947,18.0633409 14.8394002,18.0445679 15.1634134,17.8096906 C15.4882864,17.5742401 15.6400467,17.169546 15.5516273,16.7790392 L14.3432774,11.4562521 L18.4410912,7.86315939 C18.7424622,7.59947772 18.8575363,7.18303263 18.7338639,6.80198398 Z\" id=\"Path\"></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default StarIcon\n","import React from 'react'\n\nfunction KeyIcon () {\n  return (\n    <svg className=\"icon -key\" width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-39.000000, -348.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(20.000000, 164.000000)\">\n            <g transform=\"translate(0.000000, 173.000000)\">\n              <g transform=\"translate(19.000000, 11.000000)\">\n                <path d=\"M14.4921221,1.50786232 C12.4816181,-0.502641607 9.21045549,-0.502610357 7.19995156,1.50789357 C5.82666763,2.8811775 5.3496667,4.90496271 5.94429286,6.74106004 L0.137344018,12.5480401 C0.0494375966,12.6359466 8.88180154e-16,12.7549468 8.88180154e-16,12.8794783 L8.88180154e-16,15.531296 C8.88180154e-16,15.7903902 0.209656659,16.0000469 0.468750916,16.0000469 L3.12056859,16.0000469 C3.24506884,16.0000469 3.36410032,15.9506093 3.45197549,15.8627029 L4.11482054,15.1993891 C4.21597698,15.0982326 4.26541458,14.9563261 4.2489458,14.8139508 L4.16653939,14.1016682 L5.15347882,14.0087305 C5.37779175,13.9876679 5.55494835,13.8105113 5.57601089,13.5861984 L5.66894857,12.599259 L6.38123121,12.6821029 C6.51351272,12.6999467 6.64673173,12.6555403 6.74698193,12.5667589 C6.84676337,12.4775087 6.90398223,12.3502272 6.90398223,12.2165707 L6.90398223,11.3437878 L7.76092141,11.3437878 C7.88542165,11.3437878 8.00445313,11.2943502 8.09232831,11.2064438 L9.2944244,10.0202539 C11.130053,10.6153489 13.1188381,10.1742855 14.4921221,8.80006406 C16.502626,6.78959139 16.502626,3.51836625 14.4921221,1.50786232 Z M13.1660257,4.82255629 C12.6176184,5.37096362 11.7258979,5.37096362 11.1774906,4.82255629 C10.6290833,4.27414897 10.6290833,3.38242848 11.1774906,2.83402116 C11.7258979,2.28561384 12.6176184,2.28561384 13.1660257,2.83402116 C13.714433,3.38242848 13.7144018,4.27414897 13.1660257,4.82255629 Z\" id=\"Shape\"></path>\n              </g>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default KeyIcon\n","import React from 'react'\n\nimport './_index.scss'\n\nfunction IconLock () {\n  return (\n    <svg className=\"icon -lock\" width=\"14px\" height=\"20px\" viewBox=\"0 0 14 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-41.000000, -392.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(20.000000, 383.000000)\">\n            <g transform=\"translate(21.000000, 9.000000)\">\n              <path d=\"M12.1212121,8.34066667 L12.1212121,5.15145455 C12.1212121,2.3109697 9.81024242,0 6.96969697,0 C4.12915152,0 1.81824242,2.3109697 1.81824242,5.15145455 L1.81824242,8.34054545 C0.689272727,9.57963636 0,11.226 0,13.030303 C0,16.8733939 3.12660606,20 6.96969697,20 C10.8127879,20 13.9393939,16.8733939 13.9393939,13.030303 C13.9393939,11.226 13.2501212,9.57963636 12.1212121,8.34066667 Z M6.96969697,10.6060606 C7.80515152,10.6060606 8.48484848,11.2857576 8.48484848,12.1212121 C8.48484848,12.6158182 8.24654545,13.0558182 7.87878788,13.3324848 L7.87878788,13.3324848 L7.87878788,14.5454545 C7.87878788,15.0475152 7.47175758,15.4545455 6.96969697,15.4545455 C6.46763636,15.4545455 6.06060606,15.0475152 6.06060606,14.5454545 L6.06060606,14.5454545 L6.06060606,13.3324848 C5.69284848,13.0558182 5.45454545,12.6158788 5.45454545,12.1212121 C5.45454545,11.2857576 6.13424242,10.6060606 6.96969697,10.6060606 Z M6.96969697,1.81818182 C8.80769697,1.81818182 10.3030303,3.31351515 10.3030303,5.15145455 L10.3030303,6.91078788 C9.31224242,6.3689697 8.17636364,6.06060606 6.96969697,6.06060606 C5.76309091,6.06060606 4.62721212,6.3689697 3.63642424,6.91078788 L3.63642424,5.15145455 C3.63642424,3.31351515 5.13169697,1.81818182 6.96969697,1.81818182 Z\" id=\"XMLID_811_\"></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconLock\n","import React from 'react'\nimport { openModal } from '../../../store/modals/events'\nimport { lock as lockApp } from '../../../store/locker/events'\n\nimport UserBar from '../../user-bar'\nimport NavItem from './nav-item'\nimport IconShield from '../../icons/shield'\nimport IconStar from '../../icons/star'\nimport IconKey from '../../icons/key'\nimport IconLock from '../../icons/lock'\n\nimport './_index.scss'\n\nfunction MainAside () {\n  return (\n    <aside className=\"component -main-aside\">\n      <div className=\"scroll-parent\">\n        <section>\n          <nav>\n            <NavItem className=\"-all\" routeName=\"home\">\n              <div className=\"icon-container -shield\">\n                <IconShield />\n              </div>\n              <span>All items</span>\n            </NavItem>\n\n            <NavItem className=\"-favourites\" routeName=\"favourites\">\n              <div className=\"icon-container -star\">\n                <IconStar />\n              </div>\n              <span>Favourites</span>\n            </NavItem>\n          </nav>\n        </section>\n\n        <section>\n          <div className=\"title\">Features</div>\n          <NavItem className=\"-generator\" onClick={() => openModal('password_generator')}>\n            <div className=\"icon-container -key\">\n              <IconKey />\n            </div>\n            <span>Password generator</span>\n          </NavItem>\n\n          <NavItem className=\"-locker\" onClick={lockApp}>\n            <div className=\"icon-container -lock\">\n              <IconLock />\n            </div>\n            <span>Lock the app</span>\n          </NavItem>\n        </section>\n\n        {/* <section> */}\n        {/*  <div className=\"title\">Types</div> */}\n        {/* </section> */}\n\n        {/* <section> */}\n        {/*  <div className=\"title\">Folders</div> */}\n        {/* </section> */}\n      </div>\n\n      <UserBar />\n    </aside>\n  )\n}\n\nexport default MainAside\n","import { ItemId } from '../items/types'\n\nexport type MountedState = boolean\n\n/* eslint-disable */\nexport enum ItemsMode {\n  default = 'default',\n  favourites = 'favourites'\n}\nexport enum GeneratorMode {\n  default = 'default',\n  field = 'field'\n}\n/* eslint-enable */\n\nexport interface AppState {\n  mounted: boolean,\n  itemsMode: ItemsMode,\n  itemToDelete: ItemId | null,\n  generatorMode: GeneratorMode\n}\n","import { createDomain } from 'effector'\n\nexport const ItemsDomain = createDomain()\n","import { ItemsDomain } from './domain'\nimport { sendRequest } from '../../api'\nimport { ItemId, Item, ItemPayload, ItemFavouriteStatusProps, DeleteItemPayload } from './types'\n\nexport const getItems = ItemsDomain.createEffect<void, Array<Item>>().use(() => {\n  return sendRequest({\n    url: '/items'\n  }).catch(() => [])\n})\n\nexport const getItem = ItemsDomain.createEffect<ItemId, Item>().use(id => {\n  return sendRequest({\n    data: { id },\n    url: '/item'\n  })\n})\n\nexport const createItem = ItemsDomain.createEffect<ItemPayload, Item>().use(payload => {\n  return sendRequest({\n    method: 'post',\n    data: payload,\n    url: '/items'\n  })\n})\n\nexport const updateItem = ItemsDomain.createEffect<ItemPayload, Item>().use(payload => {\n  return sendRequest({\n    method: 'put',\n    data: payload,\n    url: '/items'\n  })\n})\n\nexport const toggleItemFavouriteStatus = ItemsDomain.createEffect<ItemFavouriteStatusProps, void>().use(payload => {\n  return sendRequest({\n    method: 'post',\n    data: payload,\n    url: '/favourites'\n  })\n})\n\nexport const deleteItem = ItemsDomain.createEffect<DeleteItemPayload, void>().use(payload => {\n  return sendRequest({\n    method: 'delete',\n    data: payload,\n    url: '/items'\n  })\n})\n","import { createStore } from 'effector'\nimport { createItem, updateItem, deleteItem, getItems, toggleItemFavouriteStatus } from './events'\nimport { State } from './types'\n\nconst initialState: State = []\n\nexport const $items = createStore(initialState)\n  .on(getItems.done, (state, { result }) => {\n    state = result\n    return state\n  })\n  .on(createItem.done, (state, { result }) => {\n    if (result) {\n      state.push(result)\n    }\n    return state\n  })\n  .on(updateItem.done, (state, { result }) => {\n    return state.map(i => {\n      if (i._id === result._id) {\n        return { ...i, ...result }\n      }\n      return i\n    })\n  })\n  .on(toggleItemFavouriteStatus.done, (state, { params, result }) => {\n    return state.map(i => {\n      if (i._id === params.id) {\n        return { ...i, isFavourite: (result as any).isFavourite }\n      }\n      return i\n    })\n  })\n  .on(deleteItem.done, (state, { params }) => {\n    return state.filter(i => i._id !== params.id)\n  })\n\nexport default $items\n","import { AppState, GeneratorMode, ItemsMode } from './types'\nimport { AppDomain } from './domain'\nimport { setItemsMode, setItemToDelete, setMounted, onOpenGenerator, onCloseGenerator } from './events'\n\nconst initialState: AppState = {\n  mounted: false,\n  itemsMode: ItemsMode.default,\n  itemToDelete: null,\n  generatorMode: GeneratorMode.default\n}\n\nexport const $app = AppDomain.store<AppState>(initialState)\n  .on(setMounted, (state, value) => {\n    return {\n      ...state,\n      mounted: value\n    }\n  })\n  .on(setItemsMode, (state, value) => {\n    return {\n      ...state,\n      itemsMode: value\n    }\n  })\n  .on(setItemToDelete, (state, value) => {\n    return {\n      ...state,\n      itemToDelete: value\n    }\n  })\n  .on(onOpenGenerator, (state, value) => {\n    return {\n      ...state,\n      generatorMode: value\n    }\n  })\n  .on(onCloseGenerator, (state, value) => {\n    return {\n      ...state,\n      generatorMode: GeneratorMode.default\n    }\n  })\n\nexport default { $app }\n","/**\n * next tick helper\n * @param cb {function}\n */\nexport const nextTick = (cb: any) => {\n  setTimeout(cb, 0)\n}\n\nexport default {\n  nextTick\n}\n","import { createStore } from 'effector'\nimport { closeAllModals, closeLastModal, closeModal, openModal } from './events'\nimport { State } from './types'\n\nconst initialState: State = []\n\nexport const $modals = createStore<State>(initialState)\n  .on(openModal, (state, id) => {\n    const set = new Set([...state, ...[id]])\n    state = Array.from(set) as State\n    return state\n  })\n  .on(closeModal, (state, id) => {\n    state = state.filter((i) => i !== id)\n    return state\n  })\n  .on(closeLastModal, state => {\n    state = state.slice(0, 1)\n    return state\n  })\n  .on(closeAllModals, () => [])\n\nexport default $modals\n","import React from 'react'\n\ninterface IconOptions extends React.HTMLAttributes<any> {}\n\nfunction InfoIcon (props: IconOptions) {\n  return (\n    <div {...props} className=\"icon -cross\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 18 18\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n          <g transform=\"translate(-410.000000, -395.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n            <g transform=\"translate(121.000000, 380.000000)\">\n              <g id=\"information\" transform=\"translate(289.000000, 15.000000)\">\n                <path d=\"M9,0 C13.9626,0 18,4.03745455 18,9.00005455 C18,13.9626545 13.9626,18 9,18 C4.0374,18 0,13.9626545 0,9.00005455 C0,4.03745455 4.0374,0 9,0 Z M9,7.63636364 C8.54814545,7.63636364 8.18181818,8.00269091 8.18181818,8.45454545 L8.18181818,13.3636364 C8.18181818,13.8154909 8.54814545,14.1818182 9,14.1818182 C9.45185455,14.1818182 9.81818182,13.8154909 9.81818182,13.3636364 L9.81818182,8.45454545 C9.81818182,8.00269091 9.45185455,7.63636364 9,7.63636364 Z M8.99989091,3.81818182 C8.39847273,3.81818182 7.9092,4.30778182 7.9092,4.90958182 C7.9092,5.51083636 8.39847273,6 8.99989091,6 C9.60130909,6 10.0905818,5.51083636 10.0905818,4.90958182 C10.0905818,4.30778182 9.60130909,3.81818182 8.99989091,3.81818182 Z\"></path>\n              </g>\n            </g>\n          </g>\n        </g>\n      </svg>\n    </div>\n  )\n}\n\nexport default InfoIcon\n","import React, { forwardRef, useEffect, useRef, useState } from 'react'\nimport tippy from 'tippy.js'\nimport { nextTick } from '../../../helpers/next-tick'\n\nimport IconInfo from '../../icons/info'\n\nimport './_index.scss'\n\nexport interface InputOptions extends React.InputHTMLAttributes<any> {\n  theme?: 'default' | 'clean' | 'dark',\n  model?: any,\n  error?: any,\n  beforeInput?: Function,\n  boxShadow?: boolean\n}\n\nconst Input = forwardRef((props: InputOptions, ref: any) => {\n  if (!ref) {\n    ref = useRef()\n  }\n\n  const [localError, setLocalError] = useState(props.error)\n  const localId = props.id || Math.random().toFixed(10).slice(2)\n  const innerRef = useRef(null) as React.RefObject<HTMLInputElement>\n  const iconError = React.useRef<HTMLInputElement>(null)\n  const classList = `input -component -theme-${props.theme || 'default'} ${props.error ? '-error' : ''} ${props.boxShadow === false ? '-no-box-shadow' : ''}`\n\n  const inputProps = () => {\n    const obj = { ...props }\n    delete obj.beforeInput\n    delete obj.children\n    delete obj.boxShadow\n    return obj\n  }\n\n  const focus = () => {\n    nextTick(() => {\n      innerRef.current && innerRef.current?.focus()\n    })\n  }\n\n  const select = () => {\n    nextTick(() => {\n      innerRef.current && innerRef.current?.select()\n    })\n  }\n\n  const onTooltipClick = (e: React.FormEvent) => {\n    e.preventDefault()\n    focus()\n  }\n\n  const onInput = (e: React.FormEvent) => {\n    if (props.beforeInput) {\n      props.beforeInput(e)\n    }\n\n    if (props.onInput) {\n      props.onInput(e)\n    }\n    setLocalError('')\n  }\n\n  useEffect(() => {\n    if (localError) {\n      if (iconError.current) {\n        tippy(iconError.current, {\n          placement: 'top-end',\n          content: localError\n        })\n      }\n    }\n  }, [localError])\n\n  useEffect(() => {\n    setLocalError(props.error)\n    props.autoFocus && focus()\n  }, [])\n\n  useEffect(() => {\n    ref.current = { focus, select }\n  }, [ref])\n\n  useEffect(() => {\n    setLocalError(props.error)\n  }, [props.error])\n\n  return (\n    <div className={classList}>\n      {props.children && <label htmlFor={localId} className=\"label\">{props.children}</label>}\n      <div className=\"relative\">\n        <div className=\"buttons\">\n          {localError\n            ? <div ref={iconError} className=\"icon-container -info\" onClick={e => onTooltipClick(e)}>\n              <IconInfo />\n            </div>\n            : null}\n        </div>\n        <input\n          {...inputProps()}\n          ref={innerRef}\n          type={props.type || 'text'}\n          id={props.id || localId}\n          onInput={(e) => onInput(e)} />\n      </div>\n    </div>\n  )\n})\n\nInput.displayName = 'Input'\n\nexport default Input\n","import React from 'react'\n\nfunction SearchIcon () {\n  return (\n    <svg className=\"icon -search\" width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-421.000000, -181.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(421.000000, 180.000000)\">\n            <g transform=\"translate(-0.000000, 1.000000)\">\n              <path d=\"M15.2124425,14.5734649 L11.4044167,10.612927 C12.383527,9.44900467 12.9199874,7.98455219 12.9199874,6.45999368 C12.9199874,2.89800934 10.021978,0 6.45999368,0 C2.89800934,0 0,2.89800934 0,6.45999368 C0,10.021978 2.89800934,12.9199874 6.45999368,12.9199874 C7.79721237,12.9199874 9.07151634,12.5166591 10.1610083,11.7510094 L13.9979637,15.7416003 C14.1583401,15.9081557 14.3740477,16 14.6052031,16 C14.8240003,16 15.0315627,15.9165818 15.1891304,15.7649124 C15.5239266,15.4427553 15.5345996,14.9085419 15.2124425,14.5734649 Z M6.45999368,1.68521574 C9.09286241,1.68521574 11.2347716,3.82712495 11.2347716,6.45999368 C11.2347716,9.09286241 9.09286241,11.2347716 6.45999368,11.2347716 C3.82712495,11.2347716 1.68521574,9.09286241 1.68521574,6.45999368 C1.68521574,3.82712495 3.82712495,1.68521574 6.45999368,1.68521574 Z\" id=\"Shape\"></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default SearchIcon\n","import React from 'react'\n\nfunction CrossIcon () {\n  return (\n    <svg className=\"icon -cross\" width=\"13px\" height=\"13px\" viewBox=\"0 0 13 13\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-1052.000000, -54.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(1037.000000, 40.000000)\">\n            <g transform=\"translate(15.000000, 14.000000)\">\n              <path d=\"M12.5605784,2.56053538 L8.62165497,6.49986938 L12.5605784,10.4390168 C13.1464739,11.0251361 13.1464739,11.9745711 12.5605784,12.5606904 C12.267836,12.8534328 11.8840314,12.999916 11.5004134,12.999916 C11.1161609,12.999916 10.732319,12.8536568 10.4398005,12.5606904 L6.50001866,8.62109516 L2.56053538,12.5606531 C2.26783025,12.8533955 1.88398833,12.999916 1.50003445,12.999916 C1.11619253,12.999916 0.73261185,12.8536194 0.439645483,12.5606531 C-0.14624993,11.974795 -0.14624993,11.0253227 0.439645483,10.4389795 L4.378457,6.49983206 L0.43942156,2.56053538 C-0.146473853,1.97463996 -0.146473853,1.02498109 0.43942156,0.439085675 C1.02520501,-0.146361892 1.97430408,-0.146361892 2.56031145,0.439085675 L6.49998134,4.37841968 L10.4393527,0.439085675 C11.025472,-0.146361892 11.974683,-0.146361892 12.5603545,0.439085675 C13.1464739,1.02498109 13.1464739,1.97463996 12.5605784,2.56053538 Z\" id=\"Path\"></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default CrossIcon\n","import React, { forwardRef, useEffect, useRef, useState } from 'react'\nimport { nextTick } from '../../helpers/next-tick'\nimport { itemsFiltered } from '../../store/app/events'\nimport { $modals } from '../../store/modals/store'\n\nimport UIInput from '../ui/input'\nimport IconSearch from '../icons/search'\nimport IconCross from '../icons/cross'\n\nimport './_index.scss'\n\ninterface onKeyUpEvent extends Event {\n  keyCode?: number\n}\n\ninterface SearchBarOptions {\n  onChange?: Function\n}\n\nconst SearchBar = forwardRef((props: SearchBarOptions, ref: any) => {\n  const delay = 300\n  const [_timeout, _setTimeout] = useState<any>(null)\n  const [query, setQuery] = useState('')\n  const innerRef = useRef(null)\n\n  const filterItems = () => {\n    if (props.onChange) {\n      props.onChange(query)\n      itemsFiltered()\n    }\n  }\n\n  const clear = () => {\n    setQuery('')\n    nextTick(() => {\n      (innerRef.current as any)?.focus()\n    })\n  }\n\n  const onKeyUp = (e: onKeyUpEvent) => {\n    if ($modals.getState().length) {\n      return\n    }\n\n    let watchFocus = true\n    let target = document.activeElement\n    while (target) {\n      if (target.classList.contains('-search-bar')) {\n        watchFocus = false\n        target = null\n        return\n      }\n      target = target.parentElement\n    }\n\n    if (!watchFocus) {\n      return\n    }\n\n    if (e.keyCode === 27) { // esc\n      nextTick(() => {\n        (innerRef.current as any)?.focus()\n      })\n    }\n  }\n\n  const onFieldKeyUp = (e: onKeyUpEvent) => {\n    if (e.keyCode === 27) { // escape\n      setQuery('')\n    }\n  }\n\n  useEffect(() => {\n    clearTimeout(_timeout)\n    _setTimeout(null)\n\n    query\n      ? _setTimeout(setTimeout(filterItems, delay))\n      : filterItems()\n  }, [query])\n\n  useEffect(() => {\n    ref.current = {\n      focus: (innerRef.current as any)?.focus\n    }\n  }, [ref])\n\n  useEffect(() => {\n    document.addEventListener('keyup', onKeyUp)\n    const field = document.querySelector('.component.-search-bar input') as HTMLElement\n    field.addEventListener('keyup', onFieldKeyUp)\n    return () => {\n      document.removeEventListener('keyup', onKeyUp)\n      field.removeEventListener('keyup', onFieldKeyUp)\n    }\n  }, [])\n\n  return (\n    <div className=\"component -search-bar\">\n      <div className=\"icon-parent flex center\">\n        {query\n          ? <div className=\"icon-container -cross flex center\" onClick={clear}>\n            <IconCross />\n          </div>\n          : <div className=\"icon-container -search\">\n            <IconSearch/>\n          </div>}\n      </div>\n\n      <UIInput\n        ref={innerRef}\n        value={query}\n        theme=\"clean\"\n        placeholder=\"Start typing to search...\"\n        onInput={(e: React.ChangeEvent<HTMLInputElement>) => setQuery(e.target.value)} />\n    </div>\n  )\n})\n\nSearchBar.displayName = 'SearchBar'\n\nexport default SearchBar\n","import React from 'react'\n\nimport './_index.scss'\n\nfunction RoundLoader () {\n  return (\n    <div className=\"component -loader-round\">\n      <svg className=\"svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n          <g transform=\"translate(-629.000000, -385.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n            <path d=\"M631.20799,398.4917 C631.37363,398.8603 631.2091,399.2933 630.8405,399.459 C630.4719,399.6246 630.03881,399.4601 629.873162,399.0915 C629.300253,397.8166 629,396.4285 629,395 C629,389.47726 633.47726,385 639,385 C644.5227,385 649,389.47726 649,395 C649,400.5227 644.5227,405 639,405 C636.65339,405 634.42972,404.1881 632.65267,402.7281 C632.34042,402.4715 632.29526,402.0105 632.55179,401.6982 C632.80833,401.386 633.26941,401.3408 633.58166,401.5973 C635.09934,402.8442 636.9955,403.5366 639,403.5366 C643.7145,403.5366 647.5366,399.7145 647.5366,395 C647.5366,390.28549 643.7145,386.46341 639,386.46341 C634.28549,386.46341 630.46341,390.28549 630.46341,395 C630.46341,396.2208 630.71947,397.4046 631.20799,398.4917 Z\" id=\"Path\"></path>\n          </g>\n        </g>\n      </svg>\n    </div>\n  )\n}\n\nexport default RoundLoader\n","import React, { useEffect } from 'react'\nimport { getItemLetter } from '../../../helpers/item'\n\nimport './_index.scss'\nimport LoaderRound from '../../loader/round'\n\ninterface ItemImageProps extends React.ComponentProps<any> {\n  data?: any,\n  id?: string,\n  color?: string,\n  itemName?: string,\n  isLoading?: boolean,\n  image?: string,\n  onImageLoad?: Function,\n  onImageError?: Function\n}\n\nfunction ItemImage (props: ItemImageProps) {\n  const onImageLoad = (e: any) => {\n    props.onImageLoad && props.onImageLoad(e)\n  }\n\n  const onImageError = (e: any) => {\n    props.onImageError && props.onImageError(e)\n  }\n\n  return (\n    <div className={`component -item-image flex center ${props.className || ''}`} style={{ backgroundColor: props.color }}>\n      {props.image && <img\n          id={props.id ? props.id : ''}\n          crossOrigin=\"anonymous\"\n          src={props.image}\n          alt=\"\"\n          className={props.isLoading ? '-not-ready' : '-ready'}\n          onLoad={onImageLoad}\n          onError={onImageError}/>}\n\n      {!props.image && props.itemName && <div className=\"letter\">\n        {getItemLetter(props.itemName)}\n      </div>}\n\n      {props.isLoading && <div className=\"loader\">\n        <LoaderRound />\n      </div>}\n    </div>\n  )\n}\n\nexport default ItemImage\n","import { Item } from '../store/items/types'\n\nexport const getItemName = (item: Item) => {\n  if (!item) {\n    return ''\n  }\n  return item.name || `Item #${item._id}`\n}\n\nexport const getItemLetter = (item: Item | string) => {\n  return typeof item === 'string'\n    ? item.slice(0, 1)\n    : item.name.slice(0, 1)\n}\n","import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'react-router5'\nimport { State as RouterState } from 'router5'\nimport { Unsubscribe as UnsubscribeRouter } from 'router5/dist/types/base'\n\nimport { Item as ItemInterface } from '../../store/items/types'\nimport ItemImage from '../item/image'\n\nimport './_index.scss'\n\ninterface ItemProps {\n  data: ItemInterface\n}\n\nfunction Index ({ data }: ItemProps) {\n  const [localActive, setLocalActive] = useState(false)\n  const subtitle = data.username || data.url || data.note || ''\n  const router = useRouter()\n\n  const onClick = () => {\n    setLocalActive(true)\n    router.navigate('item', { id: data._id })\n  }\n\n  const checkRoute = (route: RouterState) => {\n    // Если мы на странице item с тем же id, то делаем компонент активным\n    const isActive = route.name === 'item' && route.params.id === data._id\n    setLocalActive(isActive)\n  }\n\n  useEffect(() => {\n    checkRoute(router.getState())\n    const unsubscribe = router.subscribe(({ route }) => {\n      checkRoute(route)\n    }) as UnsubscribeRouter\n    return () => {\n      unsubscribe()\n    }\n  }, [])\n\n  return (\n    <div className={`component -item ${localActive ? '-active' : ''}`} onClick={onClick}>\n      <div className=\"head flex a-start\">\n        <ItemImage\n          className=\"image\"\n          image={data.image}\n          color={data.color}\n          itemName={data.name} />\n\n        <div className=\"content\">\n          <div className=\"title\">{data.name}</div>\n          <div className=\"subtitle\">{subtitle}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Index\n","import React, { forwardRef, useEffect, useRef, useState } from 'react'\nimport { Link } from 'react-router5'\n\nimport LoaderRound from '../../loader/round'\n\nimport './_index.scss'\n\ninterface ButtonOptions extends React.ButtonHTMLAttributes<any> {\n  fullWidth?: boolean,\n  loading?: boolean,\n  size?: 'default' | 'small' | 'square',\n  theme?: 'default' | 'ghost' | 'danger',\n  routeName?: string\n}\n\nconst Button = forwardRef((props: ButtonOptions, ref) => {\n  if (!ref) {\n    ref = useRef()\n  }\n\n  const [buttonProps, setButtonProps] = useState({})\n  const classList = `button -component -theme-${props.theme || 'default'} -size-${props.size || 'default'} ${props.fullWidth ? '-full-width' : ''} ${props.loading ? '-loading' : ''} ${props.disabled ? '-disabled' : ''}`\n\n  const update = () => {\n    (ref as any).current = {}\n\n    // eslint-disable-next-line no-new-object\n    const fieldProps = { ...props } as ButtonOptions\n    delete fieldProps.fullWidth\n    delete fieldProps.loading\n    delete fieldProps.size\n    delete fieldProps.theme\n    delete fieldProps.routeName\n    setButtonProps(fieldProps)\n  }\n\n  useEffect(() => {\n    update()\n  }, [props])\n\n  return (\n    <div className={classList}>\n      {props.routeName\n        ? <Link {...buttonProps} routeName={props.routeName}>\n          { props.loading\n            ? <div className=\"loader\">\n              <LoaderRound />\n            </div>\n            : props.children }\n      </Link>\n        : <button {...buttonProps}>\n        { props.loading && <div className=\"loader\">\n            <LoaderRound />\n          </div> }\n          <div className=\"flex a-center\">{props.children}</div>\n      </button>}\n    </div>\n  )\n})\n\nexport default Button\n","import React, { useEffect, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport { $items } from '../../store/items/store'\nimport { getItems } from '../../store/items/events'\nimport { ItemsMode } from '../../store/app/types'\n\nimport Item from '../item'\nimport LoaderRound from '../loader/round'\nimport UIButton from '../ui/button'\n\nimport './_index.scss'\n\ninterface ItemsProps {\n  searchQuery?: string,\n  mode?: ItemsMode\n}\n\nfunction Items (props: ItemsProps) {\n  const [isLoading, setIsLoading] = useState(false)\n  const items = useStore($items)\n\n  const list = () => {\n    let arr = items\n\n    if (props.mode === ItemsMode.favourites) {\n      arr = items.filter(item => item.isFavourite)\n    }\n\n    if (props.searchQuery) {\n      arr = items.filter(item => {\n        const str = `${item.name} ${item.url} ${item.username} ${item.note}`\n        return str.includes(props.searchQuery as string)\n      })\n    }\n    return arr.map(item => {\n      return <Item data={item} key={item._id} />\n    })\n  }\n\n  const onMounted = async () => {\n    setIsLoading(true)\n    await getItems().catch(() => [])\n    setIsLoading(false)\n  }\n\n  useEffect(() => {\n    onMounted()\n  }, [])\n\n  return (\n    <div className={`component -item-list ${!items.length ? '-empty' : ''}`}>\n      {isLoading\n        ? <LoaderRound />\n        : items.length\n          ? <div>\n            {list()}\n          </div>\n          : <div className=\"flex column center\">\n            <div>You have no items yet</div>\n            <div className=\"button-parent\">\n              <UIButton routeName=\"add\" theme=\"ghost\">Create one</UIButton>\n            </div>\n        </div>}\n    </div>\n  )\n}\n\nexport default Items\n","import React from 'react'\n\nfunction IconAdd () {\n  return (\n    <svg className=\"icon -add\" width=\"16px\" height=\"16px\" viewBox=\"0 0 18 18\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-650.000000, -52.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(638.000000, 40.000000)\">\n            <g transform=\"translate(21.000000, 20.999961) rotate(-45.000000) translate(-21.000000, -20.999961) translate(15.000000, 15.000000)\">\n              <path d=\"M11.5943801,2.36357112 L7.95845074,5.99987943 L11.5943801,9.63601549 C12.1352066,10.1770487 12.1352066,11.0534502 11.5943801,11.5944834 C11.3241563,11.8647072 10.9698751,11.9999225 10.6157662,11.9999225 C10.2610716,11.9999225 9.90675603,11.8649139 9.63673893,11.5944834 L6.00001722,7.95793399 L2.36357112,11.594449 C2.09338177,11.8646728 1.73906615,11.9999225 1.38464718,11.9999225 C1.03033156,11.9999225 0.676257093,11.8648795 0.4058266,11.594449 C-0.134999935,11.0536569 -0.134999935,10.177221 0.4058266,9.63598104 L4.04165261,5.99984498 L0.405619902,2.36357112 C-0.135206634,1.82274458 -0.135206634,0.946136389 0.405619902,0.405309854 C0.946343088,-0.135103285 1.82243453,-0.135103285 2.36336442,0.405309854 L5.99998278,4.04161816 L9.63632553,0.405309854 C10.1773588,-0.135103285 11.0535536,-0.135103285 11.5941734,0.405309854 C12.1352066,0.946136389 12.1352066,1.82274458 11.5943801,2.36357112 Z\" id=\"Path\"></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconAdd\n","import React, { useEffect, useState } from 'react'\nimport { State as RouterState, Unsubscribe as UnsubscribeRouter } from 'router5/dist/types/base'\nimport { useRouter } from 'react-router5'\nimport { useStore } from 'effector-react'\nimport { $items } from '../../../store/items/store'\nimport { $app } from '../../../store/app/store'\nimport { ItemsMode } from '../../../store/app/types'\n\nimport SearchBar from '../../search-bar'\nimport Items from '../../items'\nimport IconAdd from '../../icons/add'\nimport UIButton from '../../ui/button'\n\nfunction SubAsideItemList () {\n  const [mode, setMode] = useState<ItemsMode>(ItemsMode.default)\n  const [searchQuery, setSearchQuery] = useState('')\n  const items = useStore($items)\n  const router = useRouter()\n  const searchField = React.createRef()\n\n  const checkRoute = (route: RouterState) => {\n    // TODO: route has old value here\n    const _mode = $app.getState().itemsMode\n    setMode(_mode)\n  }\n\n  useEffect(() => {\n    checkRoute(router.getState())\n\n    const unsubscribe = router.subscribe(({ route }) => {\n      checkRoute(route)\n    }) as UnsubscribeRouter\n\n    return () => {\n      unsubscribe()\n    }\n  }, [])\n\n  return (\n    <div className=\"component -sub-aside-item-list flex column\">\n      {items.length\n        ? <div className=\"aside-head flex a-center j-between\">\n        <SearchBar ref={searchField} onChange={(query: string) => setSearchQuery(query)}/>\n        <UIButton routeName=\"add\" size=\"square\">\n          <div className=\"icon-container -add\">\n            <IconAdd />\n          </div>\n        </UIButton>\n      </div>\n        : null}\n\n      <div className=\"scroll-parent grow\">\n        <Items mode={mode} searchQuery={searchQuery} />\n      </div>\n    </div>\n  )\n}\n\nexport default SubAsideItemList\n","import React from 'react'\n\nfunction IconSettings () {\n  return (\n    <svg width=\"22px\" height=\"22px\" viewBox=\"0 0 22 22\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-344.000000, -154.000000)\" fill=\"currentColor\" fillRule=\"nonzero\" stroke=\"currentColor\" strokeWidth=\"0.2\">\n          <g transform=\"translate(345.000000, 155.000000)\">\n            <path d=\"M10.6275781,20 L9.37238281,20 C8.3571875,20 7.53121094,19.1740625 7.53121094,18.1588672 L7.53121094,17.7342188 C7.09960937,17.5963281 6.68027344,17.4222656 6.27742187,17.2137891 L5.97648437,17.5147266 C5.24761719,18.2444922 4.08007812,18.2230859 3.37238281,17.5144531 L2.48523437,16.6273438 C1.77628906,15.9191797 1.75589844,14.7520313 2.48546875,14.0232422 L2.78617187,13.7225391 C2.57769531,13.3196875 2.40367187,12.9004297 2.26574219,12.46875 L1.84113281,12.46875 C0.825976562,12.46875 -2.22044605e-15,11.6428125 -2.22044605e-15,10.6276172 L-2.22044605e-15,9.37238281 C-2.22044605e-15,8.3571875 0.825976562,7.53125 1.84117187,7.53125 L2.26578125,7.53125 C2.40371094,7.09960938 2.57773437,6.6803125 2.78621094,6.27746094 L2.48527344,5.9765625 C1.75613281,5.24820313 1.77625,4.0809375 2.48550781,3.37246094 L3.37273437,2.48527344 C4.08207031,1.77496094 5.24933594,1.75722656 5.97679687,2.48550781 L6.27746094,2.78617188 C6.6803125,2.57773438 7.09964844,2.40367188 7.53125,2.26574219 L7.53125,1.84113281 C7.53125,0.8259375 8.3571875,4.4408921e-15 9.37242187,4.4408921e-15 L10.6276172,4.4408921e-15 C11.6428125,4.4408921e-15 12.46875,0.8259375 12.46875,1.84113281 L12.46875,2.26578125 C12.9003516,2.40367188 13.3196875,2.57773438 13.7225391,2.78621094 L14.0234766,2.48527344 C14.7523437,1.75550781 15.9198828,1.77691406 16.6275781,2.48554688 L17.5147266,3.37265625 C18.2236719,4.08082031 18.2440625,5.24796875 17.5144922,5.97675781 L17.2137891,6.27746094 C17.4222656,6.6803125 17.5962891,7.09957031 17.7342187,7.53125 L18.1588281,7.53125 C19.1740234,7.53125 20,8.3571875 20,9.37238281 L20,10.6276172 C20,11.6428125 19.1740234,12.46875 18.1588281,12.46875 L17.7342187,12.46875 C17.5962891,12.9003906 17.4222656,13.3196875 17.2137891,13.7225391 L17.5147266,14.0234766 C18.2438672,14.7518359 18.22375,15.9191016 17.5144922,16.6275781 L16.6272656,17.5147656 C15.9179297,18.2250781 14.7506641,18.2428125 14.0232031,17.5145313 L13.7225391,17.2138672 C13.3196875,17.4223047 12.9003516,17.5963672 12.46875,17.7342969 L12.46875,18.1589453 C12.46875,19.1740625 11.6428125,20 10.6275781,20 Z M6.47332031,15.9832031 C7.03296875,16.3141797 7.6353125,16.5642188 8.26359375,16.7263672 C8.52234375,16.793125 8.703125,17.0264844 8.703125,17.2937109 L8.703125,18.1588672 C8.703125,18.5278906 9.00339844,18.828125 9.37242187,18.828125 L10.6276172,18.828125 C10.9966406,18.828125 11.2969141,18.5278906 11.2969141,18.1588672 L11.2969141,17.2937109 C11.2969141,17.0264844 11.4776953,16.793125 11.7364453,16.7263672 C12.3647266,16.5642187 12.9670703,16.3141797 13.5267188,15.9832031 C13.7569922,15.8470313 14.0501563,15.8840625 14.2393359,16.0732422 L14.8521484,16.6860938 C15.1163672,16.950625 15.5406641,16.9444922 15.7983984,16.6863672 L16.6861719,15.7986328 C16.9432812,15.5418359 16.951875,15.1174609 16.6864062,14.8523438 L16.0733203,14.2392578 C15.8841797,14.0501172 15.8471484,13.7569141 15.9832812,13.5266797 C16.3142578,12.9670703 16.5642578,12.3647266 16.7264062,11.7364063 C16.7932031,11.4776563 17.0265625,11.2969141 17.29375,11.2969141 L18.1588672,11.2969141 C18.5278906,11.2969141 18.8281641,10.9966797 18.8281641,10.6276563 L18.8281641,9.37242188 C18.8281641,9.00339844 18.5278906,8.70316406 18.1588672,8.70316406 L17.29375,8.70316406 C17.0265234,8.70316406 16.7932031,8.52238281 16.7264062,8.26367188 C16.5642578,7.63535156 16.3142187,7.03300781 15.9832812,6.47339844 C15.8471484,6.24316406 15.8841797,5.94996094 16.0733203,5.76082031 L16.6861719,5.14796875 C16.9510937,4.88335938 16.9441797,4.45914063 16.6864062,4.20167969 L15.7987109,3.31398438 C15.5414062,3.05632813 15.1170312,3.04878906 14.8524219,3.31375 L14.239375,3.92683594 C14.0502344,4.11601563 13.7569531,4.15304688 13.5267578,4.016875 C12.9671094,3.68589844 12.3647656,3.43585938 11.7364844,3.27371094 C11.4777344,3.20695313 11.2969531,2.97359375 11.2969531,2.70636719 L11.2969531,1.84113281 C11.2969531,1.47210938 10.9966797,1.171875 10.6276562,1.171875 L9.37246094,1.171875 C9.0034375,1.171875 8.70316406,1.47210938 8.70316406,1.84113281 L8.70316406,2.70628906 C8.70316406,2.97351563 8.52238281,3.206875 8.26363281,3.27363281 C7.63535156,3.43578125 7.03300781,3.68582031 6.47335937,4.01679688 C6.24304687,4.15292969 5.94988281,4.11589844 5.76074219,3.92675781 L5.14792969,3.31390625 C4.88371094,3.049375 4.459375,3.05550781 4.20167969,3.31363281 L3.31390625,4.20136719 C3.05679687,4.45816406 3.04820312,4.8825 3.31367187,5.14765625 L3.92675781,5.76074219 C4.11589844,5.94988281 4.15292969,6.24308594 4.01679687,6.47332031 C3.68582031,7.03292969 3.43582031,7.63527344 3.27367187,8.26359375 C3.206875,8.52234375 2.97351562,8.70308594 2.70632812,8.70308594 L1.84117187,8.70308594 C1.47214844,8.703125 1.171875,9.00335938 1.171875,9.37238281 L1.171875,10.6276172 C1.171875,10.9966406 1.47214844,11.296875 1.84117187,11.296875 L2.70628906,11.296875 C2.97351562,11.296875 3.20683594,11.4776563 3.27363281,11.7363672 C3.43578125,12.3646875 3.68582031,12.9670313 4.01675781,13.5266406 C4.15289062,13.756875 4.11585937,14.0500781 3.92671875,14.2392188 L3.31386719,14.8520703 C3.04894531,15.1166797 3.05585937,15.5408984 3.31363281,15.7983594 L4.20132812,16.6860547 C4.45863281,16.9437109 4.88300781,16.95125 5.14761719,16.6862891 L5.76066406,16.0732031 C5.90003906,15.9338672 6.19,15.815625 6.47332031,15.9832031 L6.47332031,15.9832031 Z\" id=\"Shape\"></path>\n            <path d=\"M10,14.3515625 C7.60050781,14.3515625 5.6484375,12.3994531 5.6484375,10 C5.6484375,7.60054687 7.60050781,5.6484375 10,5.6484375 C12.3994922,5.6484375 14.3515625,7.60054687 14.3515625,10 C14.3515625,12.3994531 12.3994922,14.3515625 10,14.3515625 Z M10,6.8203125 C8.24667969,6.8203125 6.8203125,8.24671875 6.8203125,10 C6.8203125,11.7532813 8.24671875,13.1796875 10,13.1796875 C11.7532813,13.1796875 13.1796875,11.7532813 13.1796875,10 C13.1796875,8.24671875 11.7533203,6.8203125 10,6.8203125 L10,6.8203125 Z\" id=\"Shape\"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconSettings\n","import React from 'react'\n\nfunction IconAbout () {\n  return (\n    <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-345.000000, -221.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(345.000000, 221.000000)\">\n            <path d=\"M10,0 C4.486,0 0,4.48606061 0,10.0000606 C0,15.5140606 4.486,20 10,20 C15.514,20 20,15.5140606 20,10.0000606 C20,4.48606061 15.514,0 10,0 Z M10,18.1818182 C5.48848485,18.1818182 1.81818182,14.5115152 1.81818182,10.0000606 C1.81818182,5.48860606 5.48848485,1.81818182 10,1.81818182 C14.5115152,1.81818182 18.1818182,5.48860606 18.1818182,10.0000606 C18.1818182,14.5115152 14.5114545,18.1818182 10,18.1818182 Z\" id=\"Shape\"></path>\n            <path d=\"M9.99987879,4.24242424 C9.33163636,4.24242424 8.788,4.78642424 8.788,5.45509091 C8.788,6.12315152 9.33163636,6.66666667 9.99987879,6.66666667 C10.6681212,6.66666667 11.2117576,6.12315152 11.2117576,5.45509091 C11.2117576,4.78642424 10.6681212,4.24242424 9.99987879,4.24242424 Z\" id=\"Path\"></path>\n            <path d=\"M10,8.48484848 C9.49793939,8.48484848 9.09090909,8.89187879 9.09090909,9.39393939 L9.09090909,14.8484848 C9.09090909,15.3505455 9.49793939,15.7575758 10,15.7575758 C10.5020606,15.7575758 10.9090909,15.3505455 10.9090909,14.8484848 L10.9090909,9.39393939 C10.9090909,8.89187879 10.5020606,8.48484848 10,8.48484848 Z\" id=\"Path\"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconAbout\n","import React from 'react'\nimport { useStore } from 'effector-react'\nimport { Link } from 'react-router5'\nimport { $auth as authStore } from '../../../../store/auth/store'\n\nimport IconUser from '../../../icons/user'\nimport IconSettings from '../../../icons/settings'\nimport IconAbout from '../../../icons/about'\n\nimport './_index.scss'\n\nfunction SubAsideProfileMenu () {\n  const user = useStore(authStore).user\n\n  const username = () => {\n    return user?.username\n  }\n\n  return (\n    <nav className=\"component -sub-aside-profile-menu flex column\">\n      <section className=\"profile\">\n        <Link className=\"item -profile\" routeName=\"settings.profile\">\n          <span className=\"icon-container -user\">\n            <IconUser />\n          </span>\n          <span className=\"flex column\">\n            <span>{username()}</span>\n            <span className=\"subtext\">profile &amp; logout</span>\n          </span>\n        </Link>\n      </section>\n\n      <section className=\"items\">\n        <Link className=\"item\" routeName=\"settings.general\">\n        <span className=\"icon-container -settings\">\n          <IconSettings />\n        </span>\n          <span>General settings</span>\n        </Link>\n\n        <Link className=\"item\" routeName=\"settings.about\">\n          <span className=\"icon-container -about\">\n            <IconAbout />\n          </span>\n          <span>About and contacts</span>\n        </Link>\n      </section>\n    </nav>\n  )\n}\n\nexport default SubAsideProfileMenu\n","import React, { useEffect, useState } from 'react'\nimport { State as RouterState } from 'router5'\nimport { useRouter } from 'react-router5'\nimport { Unsubscribe as UnsubscribeRouter } from 'router5/dist/types/base'\nimport { setItemsMode } from '../../../store/app/events'\nimport { ItemsMode } from '../../../store/app/types'\n\nimport ItemList from './item-list'\nimport ProfileMenu from './menu'\n\nimport './_index.scss'\n\nfunction SubAsideWrapper () {\n  const [mode, setMode] = useState('') // items, menu\n  const router = useRouter()\n\n  const checkRoute = (route: RouterState) => {\n    const mode = route.name.includes('settings') ? 'menu' : 'items'\n    setMode(mode)\n\n    if (route.name === 'favourites') {\n      setItemsMode(ItemsMode.favourites)\n    }\n    if (route.name === 'home') {\n      setItemsMode(ItemsMode.default)\n    }\n  }\n\n  useEffect(() => {\n    checkRoute(router.getState())\n\n    const unsubscribe = router.subscribe(({ route }) => {\n      checkRoute(route)\n    }) as UnsubscribeRouter\n\n    return () => {\n      unsubscribe()\n    }\n  }, [])\n\n  return (\n    <aside className=\"component -sub-aside\">\n      {mode === 'items' ? <ItemList /> : <ProfileMenu />}\n    </aside>\n  )\n}\n\nexport default SubAsideWrapper\n","import React from 'react'\n\nimport MainAside from '../../components/aside/main'\nimport SubAside from '../../components/aside/sub'\n\nimport './_index.scss'\n\ninterface LayoutProps {\n  children?: React.ReactNode\n}\n\nfunction DefaultLayout ({ children }: LayoutProps) {\n  return (\n    <div className=\"layout -default\">\n      <div className=\"flex a-stretch\">\n        <MainAside />\n        <SubAside />\n        <main>\n          <div className=\"scroll-parent\">{children}</div>\n        </main>\n      </div>\n    </div>\n  )\n}\n\nexport default DefaultLayout\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport './_index.scss'\n\nconst SimpleLayout: React.FC = ({ children }) => {\n  return (\n    <div className=\"layout -simple\">\n      <main>\n        <div className=\"container\">\n          {children}\n        </div>\n      </main>\n    </div>\n  )\n}\n\nSimpleLayout.propTypes = {\n  children: PropTypes.node\n}\n\nexport default SimpleLayout\n","import React from 'react'\n\nimport './_index.scss'\n\nfunction HomePage () {\n  return (\n    <div className=\"page -home flex column center\">\n      <div>\n        <div>Select an item in the list</div>\n        <div>to see detailed information</div>\n      </div>\n    </div>\n  )\n}\n\nexport default HomePage\n","import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'react-router5'\nimport { checkUserSecurityCode, login as sendLoginRequest } from '../../../store/auth/events'\nimport { nextTick } from '../../../helpers/next-tick'\n\nimport UIInput from '../../ui/input'\nimport UIButton from '../../ui/button'\n\nimport './_index.scss'\n\ninterface LoginFormOptions {\n  onRegisterShow?: () => void\n}\n\nfunction Index ({ onRegisterShow }: LoginFormOptions) {\n  const [loginUsername, setLoginUsername] = useState('')\n  const [loginPassword, setLoginPassword] = useState('')\n  const [usernameError, setUsernameError] = useState('')\n  const [passwordError, setPasswordError] = useState('')\n\n  const router = useRouter()\n\n  const usernameField = React.createRef()\n  const passwordField = React.createRef()\n  const [isLoading, setIsLoading] = useState(false)\n\n  const login = async () => {\n    setIsLoading(true)\n    const successResponse = await sendLoginRequest({\n      username: loginUsername,\n      password: loginPassword\n    }).then(() => true)\n      .catch(() => {\n        (passwordField.current as any).focus();\n        (passwordField.current as any).select()\n        setPasswordError('Failed to sign in')\n        return false\n      })\n\n    setIsLoading(false)\n\n    if (successResponse) {\n      await router.navigate('home')\n      checkUserSecurityCode()\n    }\n  }\n\n  const validateForm = () => {\n    const res = []\n\n    if (!loginUsername.length) {\n      res.push({\n        field: 'username',\n        message: 'This field is required'\n      });\n      (usernameField.current as any).focus()\n      return res\n    }\n    if (!loginPassword.length) {\n      res.push({\n        field: 'password',\n        message: 'This field is required'\n      })\n      if (loginUsername.length) {\n        (passwordField.current as any).focus()\n      }\n    }\n\n    return res\n  }\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    const errorsFound = validateForm()\n\n    if (errorsFound.length) {\n      errorsFound.forEach(error => {\n        switch (error.field) {\n          case 'username':\n            setUsernameError(error.message)\n            break\n          case 'password':\n            setPasswordError(error.message)\n            break\n        }\n      })\n      console.log({\n        username: loginUsername,\n        password: loginPassword\n      })\n      return\n    }\n\n    login()\n  }\n\n  const goToRegister = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (onRegisterShow) {\n      onRegisterShow()\n    }\n  }\n\n  useEffect(() => {\n    nextTick(() => {\n      (usernameField.current as any).focus()\n    })\n  }, [])\n\n  return (\n    <div className=\"component -login-form\">\n      <form onSubmit={onSubmit}>\n        <div>\n          <UIInput\n            ref={usernameField}\n            placeholder=\"Username\"\n            value={loginUsername}\n            error={usernameError}\n            onInput={() => setUsernameError('')}\n            onChange={e => setLoginUsername(e.target.value)}\n            onBlur={e => !e.target.value.length ? setUsernameError('') : null } />\n        </div>\n        <div>\n          <UIInput\n            ref={passwordField}\n            type=\"password\"\n            placeholder=\"Password\"\n            value={loginPassword}\n            error={passwordError}\n            onInput={() => setPasswordError('')}\n            onChange={e => setLoginPassword(e.target.value)}\n            onBlur={e => !e.target.value.length ? setPasswordError('') : null } />\n        </div>\n\n        <div className=\"button-block\">\n          <UIButton type=\"submit\" loading={isLoading} fullWidth={true}>Sign in</UIButton>\n        </div>\n        <div>\n          <span>or </span>\n          <a href=\"#\" onClick={goToRegister}>create new account</a>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Index\n","import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'react-router5'\nimport { Api } from '../../react-app-env'\nimport {\n  checkUserSecurityCode,\n  register as sendRegisterRequest\n} from '../../store/auth/events'\nimport { nextTick } from '../../helpers/next-tick'\n\nimport UIInput from '../ui/input'\nimport UIButton from '../ui/button'\n\ninterface RegisterFormOptions {\n  onLoginShow?: () => void\n}\n\nfunction RegisterForm ({ onLoginShow }: RegisterFormOptions) {\n  const router = useRouter()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [usernameError, setUsernameError] = useState('')\n  const [passwordError, setPasswordError] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const passwordField = React.createRef()\n  const usernameField = React.createRef()\n\n  const register = async () => {\n    setIsLoading(true)\n    const successResponse = await sendRegisterRequest({\n      username: username,\n      password: password\n    }).then(() => true)\n      .catch((err: Api.Error) => {\n        (usernameField.current as any).focus();\n        (usernameField.current as any).select()\n        setUsernameError(err.response?.data.message)\n        return false\n      })\n\n    setIsLoading(false)\n\n    if (successResponse) {\n      await router.navigate('home')\n      checkUserSecurityCode()\n    }\n  }\n\n  const goToLogin = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (onLoginShow) {\n      onLoginShow()\n    }\n  }\n\n  const validateForm = () => {\n    const res = []\n\n    if (!username.length) {\n      res.push({\n        field: 'username',\n        message: 'This field is required'\n      });\n      (usernameField.current as any).focus()\n      return res\n    }\n    if (!password.length) {\n      res.push({\n        field: 'password',\n        message: 'This field is required'\n      })\n      if (username.length) {\n        (passwordField.current as any).focus()\n      }\n    }\n\n    return res\n  }\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    const errorsFound = validateForm()\n\n    if (errorsFound.length) {\n      errorsFound.forEach(error => {\n        switch (error.field) {\n          case 'username':\n            setUsernameError(error.message)\n            break\n          case 'password':\n            setPasswordError(error.message)\n            break\n        }\n      })\n      console.log({\n        username: username,\n        password: password\n      })\n      return\n    }\n\n    register()\n  }\n\n  useEffect(() => {\n    nextTick(() => {\n      (usernameField.current as any).focus()\n    })\n  }, [])\n\n  return (\n    <div className=\"component -register-form\">\n      <form onSubmit={onSubmit}>\n        <div>\n          <UIInput\n            ref={usernameField}\n            placeholder=\"Username\"\n            value={username}\n            error={usernameError}\n            onInput={() => setUsernameError('')}\n            onChange={e => setUsername(e.target.value)}\n            onBlur={e => !e.target.value.length ? setUsernameError('') : null } />\n        </div>\n        <div>\n          <UIInput\n            ref={passwordField}\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            error={passwordError}\n            onInput={() => setPasswordError('')}\n            onChange={e => setPassword(e.target.value)}\n            onBlur={e => !e.target.value.length ? setPasswordError('') : null } />\n        </div>\n\n        <div className=\"button-block\">\n          <UIButton type=\"submit\" loading={isLoading} fullWidth={true}>Sign up</UIButton>\n        </div>\n        <div>\n          <span>or </span>\n          <a href=\"#\" onClick={goToLogin}>return to login</a>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default RegisterForm\n","import React, { useState } from 'react'\n\nimport LoginForm from '../../components/auth/login-form'\nimport RegisterForm from '../../components/auth/register-form'\n\nimport './_index.scss'\n\nfunction AuthPage () {\n  const [mode, setMode] = useState('login')\n\n  return (\n    <div className=\"page -auth\">\n      <h1>\n        {mode === 'register'\n          ? <span>Let&apos;s create a new account:</span>\n          : <span>Hi, I&apos;m your password manager.</span> }\n      </h1>\n\n      <div className=\"container -narrow\">\n        {mode === 'register'\n          ? <RegisterForm onLoginShow={() => setMode('login')} />\n          : <LoginForm onRegisterShow={() => setMode('register')} /> }\n      </div>\n    </div>\n  )\n}\n\nexport default AuthPage\n","import React, { useEffect, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport { useRouter } from 'react-router5'\nimport { nextTick } from '../../helpers/next-tick'\nimport { unlock } from '../../store/locker/events'\nimport { logout as _logout } from '../../store/auth/events'\nimport { $auth } from '../../store/auth/store'\n\nimport UIInput from '../../components/ui/input'\nimport UIButton from '../../components/ui/button'\n\nimport './_index.scss'\n\nfunction UnlockPage () {\n  const [_loading, _setLoading] = useState(false)\n  const [code, setCode] = useState('')\n  const [codeFieldError, setCodeFieldError] = useState('')\n  const user = useStore($auth).user\n  const router = useRouter()\n  const codeField = React.createRef()\n\n  const logout = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await _logout()\n    router.navigate('auth')\n  }\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!code.length) {\n      setCodeFieldError('This field is required')\n      nextTick(() => {\n        (codeField.current as any)?.focus()\n      })\n      return\n    }\n\n    _setLoading(true)\n    await unlock(code).catch(e => {\n      setCodeFieldError('')\n      setCodeFieldError(e.response.data.message)\n      nextTick(() => {\n        (codeField.current as any)?.focus();\n        (codeField.current as any)?.select()\n      })\n    })\n\n    _setLoading(false)\n  }\n\n  useEffect(() => {\n    nextTick(() => {\n      (codeField.current as any)?.focus()\n    })\n    return () => {}\n  }, [])\n\n  return (\n    <div className=\"page -unlock\">\n      <h1>App is locked!</h1>\n\n      <div className=\"flex column center\">\n        <div>Enter your security code to unlock the app:</div>\n\n        <form className=\"flex column\" onSubmit={onSubmit}>\n          <div>\n            <UIInput ref={codeField} type=\"password\" error={codeFieldError} placeholder=\"your_security_code\" value={code} onInput={(e: React.ChangeEvent<HTMLInputElement>) => setCode(e.target.value)} />\n          </div>\n          <div>\n            <UIButton type=\"submit\" loading={_loading} fullWidth={true}>Unlock</UIButton>\n          </div>\n        </form>\n\n        <div className=\"bottom flex a-center\">\n          <div>You signed as&nbsp;</div>\n          <div className=\"name\">{user?.username}</div>\n          <div>.&nbsp;</div>\n          <a href=\"#\" onClick={logout}>logout</a>\n          <div>.</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UnlockPage\n","import React, { forwardRef, useEffect, useRef, useState } from 'react'\nimport tippy from 'tippy.js'\nimport { nextTick } from '../../../helpers/next-tick'\n\nimport IconInfo from '../../icons/info'\n\nimport './_index.scss'\n\ninterface InputOptions extends React.InputHTMLAttributes<any> {\n  theme?: 'default' | 'clean',\n  model?: any,\n  error?: any,\n  beforeInput?: Function\n}\n\nconst Input = forwardRef((props: InputOptions, ref: any) => {\n  if (!ref) {\n    ref = useRef()\n  }\n\n  const [inputProps, setInputProps] = useState<InputOptions>({\n    value: ''\n  })\n  const [localError, setLocalError] = useState(props.error)\n  const localId = props.id || Math.random().toFixed(10).slice(2)\n  const innerRef = useRef(null)\n  const iconError = React.useRef<HTMLInputElement>(null)\n  const classList = `input -component -theme-${props.theme || 'default'} ${props.error ? '-error' : ''}`\n\n  const focus = () => {\n    nextTick(() => {\n      innerRef.current && (innerRef.current as HTMLInputElement | null)?.focus()\n    })\n  }\n\n  const select = () => {\n    nextTick(() => {\n      innerRef.current && (innerRef.current as HTMLInputElement | null)?.select()\n    })\n  }\n\n  const onTooltipClick = (e: React.FormEvent) => {\n    e.preventDefault()\n    focus()\n  }\n\n  const onInput = (e: React.FormEvent) => {\n    if (props.beforeInput) {\n      props.beforeInput(e)\n    }\n\n    if (props.onInput) {\n      props.onInput(e)\n    }\n    setLocalError('')\n  }\n\n  const update = () => {\n    const obj = { ...props }\n    delete obj.beforeInput\n    delete obj.children\n    setInputProps(obj)\n  }\n\n  useEffect(() => {\n    if (localError) {\n      if (iconError.current) {\n        tippy(iconError.current, {\n          placement: 'top-end',\n          content: localError\n        })\n      }\n    }\n  }, [localError])\n\n  useEffect(() => {\n    setLocalError(props.error)\n    update()\n  }, [])\n\n  useEffect(() => {\n    ref.current = { focus, select }\n  }, [ref])\n\n  useEffect(() => {\n    update()\n  }, [props])\n\n  useEffect(() => {\n    setLocalError(props.error)\n  }, [props.error])\n\n  return (\n    <div className={classList}>\n      {props.children && <label htmlFor={localId} className=\"label\">{props.children}</label>}\n\n      <div className=\"buttons\">\n        {localError\n          ? <div ref={iconError} className=\"icon-container -info\" onClick={e => onTooltipClick(e)}>\n          <IconInfo />\n        </div>\n          : null}\n      </div>\n      <textarea\n        rows={3}\n        {...inputProps}\n        ref={innerRef}\n        id={props.id || localId}\n        onInput={(e) => onInput(e)} />\n    </div>\n  )\n})\n\nexport default Input\n","const colors = ['#FFC6EF', '#A688E0', '#8FD0EE', '#97DBB6', '#BADD7F', '#EFE084', '#DFAD7B', '#EB998C', '#EB8CAA']\n\nconst _componentToHex = (color: number) => {\n  const hex = color.toString(16)\n  return hex.length === 1 ? '0' + hex : hex\n}\n\nexport const rgbToHex = (rgb: string[] | number[]) => {\n  return '#' + _componentToHex(+rgb[0]) + _componentToHex(+rgb[1]) + _componentToHex(+rgb[2])\n}\n\nexport const getImageRGB = (imgEl: HTMLImageElement | null) => {\n  const defaultRGB = [0, 0, 0]\n\n  if (!imgEl) {\n    return defaultRGB\n  }\n  const blockSize = 4 // only visit every 5 pixels\n  const canvas = document.createElement('canvas') as HTMLCanvasElement\n  const context = canvas.getContext('2d') as CanvasRenderingContext2D\n  let data\n  let i = -4\n  const colorMap = {} as any\n\n  if (!context) {\n    return defaultRGB\n  }\n\n  const height = canvas.height = imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height\n  const width = canvas.width = imgEl.naturalWidth || imgEl.offsetWidth || imgEl.width\n\n  context.drawImage(imgEl, 0, 0)\n\n  try {\n    data = context.getImageData(0, 0, width, height)\n  } catch (e) {\n    return defaultRGB\n  }\n\n  const length = data.data.length\n\n  while ((i += blockSize * 4) < length) {\n    const color = `${data.data[i]},${data.data[i + 1]},${data.data[i + 2]}`\n    colorMap[color]\n      ? colorMap[color] += 1\n      : colorMap[color] = 1\n  }\n\n  const biggest = {\n    color: Object.keys(colorMap)[0],\n    amount: 0\n  }\n  Object.keys(colorMap).forEach(color => {\n    if (colorMap[color] > biggest.amount) {\n      biggest.color = color\n      biggest.amount = colorMap[color]\n    }\n  })\n\n  return biggest.color.split(',')\n}\n\nexport const getImageBase64 = (imgSelector: string | null) => {\n  if (!imgSelector) {\n    return\n  }\n\n  const canvas = document.createElement('canvas') as HTMLCanvasElement\n  const imgEl = document.querySelector(imgSelector) as HTMLImageElement | null\n  let res = null\n\n  if (!imgEl) {\n    return res\n  }\n\n  canvas.width = imgEl.naturalWidth\n  canvas.height = imgEl.naturalHeight\n  const context = canvas.getContext && canvas.getContext('2d') as CanvasRenderingContext2D\n\n  context.drawImage(imgEl, 0, 0)\n\n  try {\n    res = canvas.toDataURL()\n  } catch (e) {}\n\n  return res\n}\n\nexport const getRandomColor = () => {\n  return colors[Math.floor(Math.random() * colors.length)]\n}\n","import React, { useEffect, useState } from 'react'\nimport { getImageRGB, rgbToHex, getRandomColor, getImageBase64 } from '../../../helpers/image'\n\nimport IconStar from '../../icons/star'\n\nimport './_index.scss'\nimport ItemImage from '../../item/image'\n\ninterface ItemPageHeadProps extends React.ComponentProps<any> {\n  itemUrl?: string,\n  itemName?: string,\n  imageSrc?: string,\n  color?: string,\n  isFavourite?: boolean,\n  favouritesButtonId?: string,\n  toggleFavourites?: Function,\n  onImageChange?: Function,\n  onColorChange?: Function\n}\n\nfunction ItemPageHead (props: ItemPageHeadProps) {\n  const [isLoading, setIsLoading] = useState(false)\n  const [localSrc, setLocalSrc] = useState(props.imageSrc)\n  const [localColor, setLocalColor] = useState(props.color)\n  const [randomColor, setRandomColor] = useState('')\n\n  const onImageLoad = (e: any) => {\n    setIsLoading(false)\n    const rgbColor = getImageRGB(e.target as HTMLImageElement) as number[]\n    const hexColor = rgbToHex(rgbColor)\n    setLocalColor(hexColor)\n\n    // base64 generating\n    const base64 = getImageBase64('#item_image')\n    props.onImageChange && props.onImageChange(base64 || e)\n  }\n\n  const onImageError = () => {\n    setIsLoading(false)\n    setLocalSrc('')\n    props.onImageChange && props.onImageChange('')\n    props.onColorChange && props.onColorChange(randomColor)\n  }\n\n  const onToggleFavourites = () => {\n    props.toggleFavourites && props.toggleFavourites()\n  }\n\n  useEffect(() => {\n    setLocalSrc('')\n    setLocalColor('')\n    setLocalSrc(props.itemUrl\n      ? `${process.env.REACT_APP_API_BASE_URL}/item-image?url=${encodeURIComponent(props.itemUrl)}`\n      : '')\n  }, [props.itemUrl])\n\n  useEffect(() => {\n    setLocalSrc(props.imageSrc)\n  }, [props.imageSrc])\n\n  useEffect(() => {\n    if (localSrc) {\n      props.itemUrl && !props.imageSrc && setIsLoading(true)\n      props.onImageChange && props.onImageChange(localSrc)\n    }\n  }, [localSrc])\n\n  useEffect(() => {\n    props.onColorChange && props.onColorChange(localColor)\n  }, [localColor])\n\n  useEffect(() => {\n    setLocalColor(props.color)\n  }, [props.color])\n\n  useEffect(() => {\n    const _randomColor = getRandomColor()\n    setRandomColor(_randomColor)\n\n    setLocalColor(props.color || randomColor)\n    props.imageSrc && setLocalSrc(props.imageSrc)\n\n    props.onColorChange && props.onColorChange(_randomColor)\n  }, [])\n\n  return (\n    <section className=\"component -item-page-head flex a-center\">\n      <div className=\"flex a-center grow\">\n        <div className=\"image\" style={{ backgroundColor: localColor || randomColor }}>\n          <ItemImage\n            id=\"item_image\"\n            image={localSrc}\n            color={localColor || randomColor}\n            itemName={props.itemName}\n            isLoading={isLoading}\n            onImageLoad={onImageLoad}\n            onImageError={onImageError} />\n        </div>\n        <div>{props.children}</div>\n      </div>\n\n      {props.favouritesButtonId && <div\n        id={props.favouritesButtonId}\n        className={`icon-container -star ${props.isFavourite ? '-active' : ''} flex center`}\n        onClick={onToggleFavourites}>\n        <IconStar/>\n      </div>}\n    </section>\n  )\n}\n\nexport default ItemPageHead\n","import React from 'react'\n\nfunction EyeIcon () {\n  return (\n    <svg className=\"icon -eye\" width=\"20px\" height=\"14px\" viewBox=\"0 0 18 12\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-701.000000, -405.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(701.000000, 405.000000)\">\n            <path d=\"M8.8000125,3.6 C7.476,3.6 6.4000125,4.6759875 6.4000125,6 C6.4000125,7.3240125 7.476,8.4 8.8000125,8.4 C10.124025,8.4 11.2000125,7.3240125 11.2000125,6 C11.2000125,4.6759875 10.1239875,3.6 8.8000125,3.6 Z\" id=\"Path\"></path>\n            <path d=\"M8.8000125,0 C4.8,0 1.3840125,2.487975 0,6 C1.3840125,9.5119875 4.8,12 8.8000125,12 C12.804,12 16.2160125,9.5119875 17.600025,6 C16.2160125,2.487975 12.804,0 8.8000125,0 Z M8.8000125,9.999975 C6.5920125,9.999975 4.8,8.2079625 4.8,5.9999625 C4.8,3.7919625 6.5920125,1.9999875 8.8000125,1.9999875 C11.0080125,1.9999875 12.800025,3.792 12.800025,6 C12.800025,8.208 11.0080125,9.999975 8.8000125,9.999975 Z\" id=\"Shape\"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default EyeIcon\n","import React, { forwardRef, useEffect, useState } from 'react'\nimport { GeneratorMode } from '../../../store/app/types'\nimport { openModal } from '../../../store/modals/events'\nimport { $modals } from '../../../store/modals/store'\nimport { onOpenGenerator, onSaveGenerated } from '../../../store/app/events'\n\nimport UIInput, { InputOptions } from '../input'\nimport IconKey from '../../icons/key'\nimport IconEye from '../../icons/eye'\n\nimport './_index.scss'\n\ninterface PasswordFieldProps extends InputOptions {\n  onGenerate?: Function,\n  generator?: boolean\n}\n\nconst PasswordField = forwardRef((props: PasswordFieldProps, ref: any) => {\n  const [fieldType, setFieldType] = useState<'password' | 'text'>('password')\n  const [localError, setLocalError] = useState(props.error)\n  const innerRef = React.createRef()\n\n  const fieldProps = () => {\n    const _props = { ...props }\n    delete _props.onGenerate\n    delete _props.generator\n    return _props\n  }\n\n  const toggleFieldType = () => {\n    setFieldType(fieldType === 'password' ? 'text' : 'password')\n  }\n\n  const openGenerator = () => {\n    onOpenGenerator(GeneratorMode.field)\n    openModal('password_generator')\n  }\n\n  const onInput = (e: React.ChangeEvent) => {\n    props.onInput && props.onInput(e)\n    setLocalError('')\n  }\n\n  const onBlur = (e: any) => {\n    props.onBlur && props.onBlur(e)\n    if (!props.value) {\n      setLocalError('')\n    }\n  }\n\n  useEffect(() => {\n    try {\n      ref.current = innerRef.current\n    } catch (e) {}\n  }, [ref])\n\n  useEffect(() => {\n    setLocalError(props.error)\n  }, [props.error])\n\n  useEffect(() => {\n    $modals.on(onSaveGenerated, (state, value) => {\n      props.onGenerate && props.onGenerate(value)\n      return state\n    })\n    return () => {\n      $modals.off(onSaveGenerated)\n    }\n  }, [])\n\n  return (\n    <div className=\"component -password-field\">\n      <div className=\"icons flex a-center\">\n        {props.generator && <div className=\"icon-container -icon -key\" onClick={openGenerator}>\n          <IconKey/>\n        </div>}\n        {!localError && <div className=\"icon-container -eye\" onClick={toggleFieldType}>\n          <IconEye/>\n        </div>}\n      </div>\n      <UIInput\n        {...fieldProps()}\n        ref={innerRef}\n        type={fieldType}\n        error={localError}\n        name=\"password\"\n        onInput={onInput}\n        onBlur={onBlur}>\n        {props.children}\n      </UIInput>\n    </div>\n  )\n})\n\nPasswordField.displayName = 'PasswordField'\n\nexport default PasswordField\n","import React from 'react'\n\nfunction CheckIcon () {\n  return (\n    <svg className=\"icon -check\" width=\"16px\" height=\"12px\" viewBox=\"0 0 16 12\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-953.000000, -54.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(941.000000, 40.000000)\">\n            <path d=\"M27.5087239,14.4952761 C26.8518645,13.8375746 25.7840469,13.8375746 25.1271875,14.4952761 L17.8966814,21.7249401 L14.8768125,18.7059133 C14.2199531,18.0482117 13.1521355,18.0482117 12.4952761,18.7059133 C11.8375746,19.3636148 11.8375746,20.4297481 12.4952761,21.0874496 L16.7059133,25.2980867 C17.034343,25.6273586 17.4655122,25.7915734 17.8966814,25.7915734 C18.3278507,25.7915734 18.7590199,25.6273586 19.0874496,25.2980867 L27.5087239,16.8768125 C28.1664254,16.219111 28.1664254,15.1529777 27.5087239,14.4952761 Z\" id=\"Path\"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default CheckIcon\n","import React, { useEffect, useState } from 'react'\nimport { useRoute } from 'react-router5'\nimport { createItem } from '../../../store/items/events'\n\nimport UIButton from '../../../components/ui/button'\nimport UIInput from '../../../components/ui/input'\nimport UITextarea from '../../../components/ui/textarea'\nimport ItemPageHead from '../../../components/item-page/head'\nimport PasswordField from '../../../components/ui/password-field'\nimport IconCheck from '../../../components/icons/check'\nimport IconCross from '../../../components/icons/cross'\n\nimport './_index.scss'\n\nfunction AddItemPage () {\n  const { router } = useRoute()\n  const [isLoading, setIsLoading] = useState(false)\n  const [image, setImage] = useState('')\n  const [color, setColor] = useState('')\n  const [randomColor, setRandomColor] = useState('')\n  const [name, setName] = useState('')\n  const [url, setUrl] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [note, setNote] = useState('')\n\n  const [nameError, setNameError] = useState('')\n\n  const nameField = React.useRef() as React.RefObject<HTMLInputElement>\n\n  const create = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n\n    const item = {\n      group: null,\n      name,\n      url,\n      username,\n      password,\n      note,\n      image: image || null,\n      color: color || randomColor\n    }\n\n    if (!item.name) {\n      setNameError('This field is required')\n      nameField.current?.focus()\n    } else {\n      // console.log('item', item)\n      const res = await createItem(item)\n      router.navigate('item', { id: res._id })\n    }\n    setIsLoading(false)\n  }\n\n  const onCancelClick = () => {\n    router.navigate('home')\n  }\n\n  useEffect(() => {\n    if (!url) {\n      setColor('')\n      setImage('')\n    }\n  }, [url])\n\n  return (\n    <div className=\"page -add-item\">\n      <section className=\"page-actions\">\n        <div className=\"buttons flex j-end\">\n          <UIButton size=\"small\" theme=\"ghost\" loading={isLoading} onClick={create}>\n            <span className=\"icon-container -check\">\n              <IconCheck />\n            </span>\n            <span>Create</span>\n          </UIButton>\n          <UIButton size=\"small\" theme=\"ghost\" onClick={onCancelClick}>\n            <div className=\"icon-container -cross\">\n              <IconCross />\n            </div>\n            <span>Cancel</span>\n          </UIButton>\n        </div>\n      </section>\n\n      <ItemPageHead\n        itemUrl={url}\n        itemName={name}\n        color={color}\n        onImageChange={(image: string) => setImage(image)}\n        onColorChange={(color: string) => setRandomColor(color)}>\n        <div className=\"name\">New item creation</div>\n        <div className=\"type\">Icon is based on item name or website</div>\n      </ItemPageHead>\n\n      <div className=\"separator\"/>\n\n      <section className=\"fields\">\n        <UIInput\n          ref={nameField}\n          error={nameError}\n          name=\"name\"\n          value={name}\n          autoFocus={true}\n          autoComplete=\"off\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setName(e.target.value)}\n          onBlur={e => !e.target.value.length ? setNameError('') : null }>\n          <div>Name</div>\n        </UIInput>\n        <UIInput\n          type=\"url\"\n          name=\"url\"\n          value={url}\n          autoComplete=\"off\"\n          placeholder=\"https://example.com\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setUrl(e.target.value)}>\n          <div>Website</div>\n        </UIInput>\n        <UIInput\n          name=\"username\"\n          value={username}\n          autoComplete=\"off\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setUsername(e.target.value)}>\n          <div>Username</div>\n        </UIInput>\n        <PasswordField\n          value={password}\n          generator={true}\n          autoComplete=\"off\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)}\n          onGenerate={(value: string) => setPassword(value)}/>\n        <UITextarea\n          name=\"note\"\n          value={note}\n          autoComplete=\"off\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setNote(e.target.value)}>\n          <div>Note</div>\n        </UITextarea>\n      </section>\n    </div>\n  )\n}\n\nexport default AddItemPage\n","import React from 'react'\n\nfunction IconCopy () {\n  return (\n    <svg className=\"icon -copy\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-1055.000000, -373.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(742.000000, 339.000000)\">\n            <g transform=\"translate(323.000000, 44.000000) rotate(-270.000000) translate(-323.000000, -44.000000) translate(313.000000, 34.000000)\">\n              <path d=\"M2.15909091,12.7083333 L2.15909091,4.49494949 L1.64141414,4.49494949 C0.177119232,4.49494949 0,5.27812933 0,6.74242424 L0,17.3484848 C0,18.8127798 1.18722024,20 2.65151515,20 L13.2575758,20 C14.7218707,20 15.7070707,19.8228808 15.7070707,18.3585859 L15.7070707,17.8409091 L7.29166667,17.8409091 C3.06815476,17.8409091 2.15909091,16.5918739 2.15909091,12.7083333 Z M17.3484848,-2.29670379e-14 L6.74242424,-2.29670379e-14 C5.27812933,-2.29670379e-14 4.09090909,1.18722024 4.09090909,2.65151515 L4.09090909,13.2575758 C4.09090909,14.7218707 5.27812933,15.9090909 6.74242424,15.9090909 L17.3484848,15.9090909 C18.8127798,15.9090909 20,14.7218707 20,13.2575758 L20,2.65151515 C20,1.18722024 18.8127798,-2.29670379e-14 17.3484848,-2.29670379e-14 Z\" id=\"Shape\"></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconCopy\n","import React, { useEffect, useState } from 'react'\nimport tippy from 'tippy.js'\n\nimport UIInput from '../../ui/input'\nimport IconCopy from '../../icons/copy'\nimport IconEye from '../../icons/eye'\n\nimport './_index.scss'\n\ninterface ItemFieldProps extends React.ComponentProps<any> {\n  value?: any,\n  textarea?: boolean\n}\n\nfunction ItemField (props: ItemFieldProps) {\n  const [fieldType, setFieldType] = useState<'text' | 'password'>(props.type === 'password' ? 'password' : props.type || 'text')\n  const id = Math.random().toFixed(10).slice(2)\n\n  const fieldProps = () => {\n    const _props = { ...props }\n    delete _props.children\n    delete _props.textarea\n    return _props\n  }\n\n  const copyValue = () => {\n    const _tooltip = document.querySelector(`#item_field_${id}`)\n    navigator.clipboard.writeText(props.value)\n    setTimeout(() => {\n      (_tooltip as any)._tippy?.show()\n    }, 100)\n    setTimeout(() => {\n      (_tooltip as any)._tippy?.hide()\n    }, 1600)\n  }\n\n  const toggleFieldType = () => {\n    setFieldType(fieldType === 'password' ? 'text' : 'password')\n  }\n\n  useEffect(() => {\n    tippy(`#item_field_${id}`, {\n      trigger: 'manual',\n      content: 'Copied',\n      placement: 'left',\n      animation: 'perspective-subtle',\n      theme: 'small',\n      duration: 200\n    })\n  }, [])\n\n  return (\n    <div className=\"component -item-field\">\n      <div className=\"intro\" onClick={copyValue}>\n        <div className=\"grow\">\n          <div className=\"label\">{props.children}</div>\n          <UIInput theme=\"clean\" {...fieldProps()} type={fieldType} readOnly={true} />\n        </div>\n      </div>\n\n      <div className=\"icons flex a-center\">\n        {props.type === 'password' && <div className=\"icon-container -eye\" onClick={toggleFieldType}>\n          <IconEye/>\n        </div>}\n        <div id={`item_field_${id}`} className=\"icon-container -copy\" onClick={copyValue}>\n          <IconCopy />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ItemField\n","import React from 'react'\n\nfunction IconEdit () {\n  return (\n    <svg className=\"icon -edit\" width=\"17px\" height=\"16px\" viewBox=\"0 0 17 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-975.000000, -52.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(963.000000, 40.000000)\">\n            <g transform=\"translate(12.000000, 12.000000)\">\n              <path d=\"M9.89124432,2.67414873 L1.07856982,11.4874584 C1.03423333,11.531922 1.00221958,11.5880731 0.986974932,11.6484165 L0.0101743906,15.5690847 C-0.0190445262,15.6871037 0.0156370628,15.8126179 0.101769284,15.8987502 C0.166940128,15.963921 0.255740186,16 0.346572863,16 C0.374394346,16 0.402851014,15.99657 0.430545434,15.9895828 L4.35121375,15.0126552 C4.41231935,14.9974106 4.46783526,14.9655239 4.51217179,14.9211874 L13.3256085,6.10851291 L9.89124432,2.67414873 Z\" id=\"Path\"></path>\n              <path d=\"M15.5088956,1.47248971 L14.5279027,0.491496869 C13.872256,-0.164149844 12.7295429,-0.163514658 12.0746584,0.491496869 L10.8729994,1.69315592 L14.3072365,5.12739304 L15.5088956,3.92573398 C15.8364013,3.59835527 16.0167963,3.16261255 16.0167963,2.69917538 C16.0167963,2.23573821 15.8364013,1.79999546 15.5088956,1.47248971 Z\" id=\"Path\"></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconEdit\n","import React from 'react'\n\nfunction IconDelete () {\n  return (\n    <svg className=\"icon -delete\" width=\"14px\" height=\"16px\" viewBox=\"0 0 14 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-1071.000000, -52.000000)\" fill=\"currentColor\">\n          <g transform=\"translate(1057.000000, 40.000000)\">\n            <path d=\"M20.7934646,12 C23.3696265,12 26.0594102,12.7820802 27.2100717,13.8808164 C27.47208,14.1310013 27.5941332,14.3748392 27.5762313,14.6123302 L26.2348326,25.7567605 C26.0396214,26.8930639 25.207243,27.2385221 24.9099436,27.379723 C24.0902231,27.7690455 23.1354635,28 20.788117,28 C18.4407705,28 17.8484474,27.7690455 16.8899959,27.379723 C16.5846384,27.2385221 15.6868038,26.8930639 15.3653421,25.7567605 C15.3653421,25.7567605 14.9102281,22.0419504 14,14.6123302 C14.0259871,14.3748392 14.1723032,14.1310013 14.4389484,13.8808164 C15.490908,12.8937955 18.2773779,12 20.7934646,12 Z M20.7934646,13.14 C16.7441065,13.14 15.0874389,14.3143409 15.0874389,15.0271205 C15.0874389,15.7399001 16.7441065,16.8968176 20.7934646,16.8968176 C24.8428228,16.8968176 26.5371588,15.7399001 26.5371588,15.0271205 C26.5371588,14.3143409 24.8428228,13.14 20.7934646,13.14 Z\" id=\"Rectangle-2\"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconDelete\n","import React, { useEffect, useState } from 'react'\nimport tippy, { Instance as TooltipInstance } from 'tippy.js'\nimport { useRoute } from 'react-router5'\nimport { nextTick } from '../../helpers/next-tick'\nimport { getItem, toggleItemFavouriteStatus } from '../../store/items/events'\nimport { Item } from '../../store/items/types'\nimport { getItemName } from '../../helpers/item'\nimport { openModal } from '../../store/modals/events'\nimport { setItemToDelete } from '../../store/app/events'\n\nimport UIButton from '../../components/ui/button'\nimport ItemField from '../../components/item-page/field'\nimport IconEdit from '../../components/icons/edit'\nimport IconDelete from '../../components/icons/delete'\n\nimport './_index.scss'\nimport ItemPageHead from '../../components/item-page/head'\n\nfunction ItemPage () {\n  // @ts-ignore (null as initial value)\n  const [data, setData] = useState<Item>(null)\n  const { route, router } = useRoute()\n  const favouritesButtonId = 'favourites_button'\n\n  const getTooltip = (): TooltipInstance | null => {\n    const tooltip = document.getElementById(favouritesButtonId)\n    return tooltip ? (tooltip as any)._tippy || null : null\n  }\n\n  const updateTooltip = () => {\n    nextTick(() => {\n      const tooltip = getTooltip()\n      setTimeout(() => {\n        tooltip?.setContent(data?.isFavourite ? 'Remove from favourites' : 'Add to favourites')\n      }, 200)\n    })\n  }\n\n  const toggleFavourites = () => {\n    toggleItemFavouriteStatus({\n      id: data._id\n    }).then(() => {\n      setData({ ...data, isFavourite: !data.isFavourite })\n      updateTooltip()\n    }).catch(() => {})\n  }\n\n  const createTooltip = () => {\n    if (getTooltip()) {\n      return\n    }\n\n    nextTick(() => {\n      tippy(`#${favouritesButtonId}`, {\n        trigger: 'mouseenter focus',\n        content: 'Tooltip',\n        placement: 'top',\n        animation: 'perspective-subtle',\n        theme: 'small'\n      })\n    })\n  }\n\n  const destroyTooltip = () => {\n    const tooltip = getTooltip()\n    tooltip?.destroy()\n  }\n\n  const onEditClick = () => {\n    router.navigate('item.edit', { id: data._id })\n  }\n\n  const onDeleteClick = () => {\n    setItemToDelete(data._id)\n    openModal('delete_item')\n  }\n\n  const onMounted = () => {\n    createTooltip()\n\n    getItem(route.params.id).then(res => {\n      setData(res)\n    }).catch(() => router.navigate('home'))\n  }\n\n  useEffect(() => {\n    onMounted()\n\n    return () => {\n      destroyTooltip()\n    }\n  }, [])\n\n  useEffect(() => {\n    data ? createTooltip() : destroyTooltip()\n    updateTooltip()\n  }, [data])\n\n  return (\n    <div className=\"page -profile\">\n      { data\n        ? <div className=\"intro\">\n          <section className=\"actions\">\n            <div className=\"buttons flex j-end\">\n              <UIButton size=\"small\" theme=\"ghost\" onClick={onEditClick}>\n                <div className=\"icon-container -edit\">\n                  <IconEdit />\n                </div>\n                <span>Edit</span>\n              </UIButton>\n              <UIButton size=\"small\" theme=\"ghost\" onClick={onDeleteClick}>\n                <div className=\"icon-container -delete\">\n                  <IconDelete />\n                </div>\n                <span>Delete</span>\n              </UIButton>\n            </div>\n          </section>\n\n          <ItemPageHead\n            imageSrc={data.image}\n            itemName={data.name}\n            color={data.color}\n            isFavourite={data.isFavourite}\n            favouritesButtonId={favouritesButtonId}\n            toggleFavourites={toggleFavourites}>\n            <div className=\"name\">{getItemName(data)}</div>\n            <div className=\"type\">Account credentials</div> { /* TODO: обновить после реализации типов */}\n          </ItemPageHead>\n\n          <div className=\"separator\"/>\n\n          <section className=\"fields\">\n            {data.name && <ItemField value={data.name}>\n              <div>Name</div>\n            </ItemField>}\n\n            {data.url && <ItemField type=\"url\" value={data.url}>\n              <div>Website</div>\n            </ItemField>}\n\n            {data.username && <ItemField value={data.username}>\n              <div>Username</div>\n            </ItemField>}\n\n            {data.password && <ItemField type=\"password\" value={data.password}>\n              <div>Password</div>\n            </ItemField>}\n\n            {data.note && <div>\n              <div className=\"separator\"/>\n              <ItemField value={data.note} textarea={true}>\n                <div>Note</div>\n              </ItemField>\n            </div>}\n          </section>\n        </div>\n        : null }\n    </div>\n  )\n}\n\nexport default ItemPage\n","import React, { useEffect, useState } from 'react'\nimport { useRoute } from 'react-router5'\nimport { updateItem, getItem } from '../../../store/items/events'\nimport { Item } from '../../../store/items/types'\nimport ItemPageHead from '../../../components/item-page/head'\n\nimport UIButton from '../../../components/ui/button'\nimport UIInput from '../../../components/ui/input'\nimport UITextarea from '../../../components/ui/textarea'\nimport PasswordField from '../../../components/ui/password-field'\nimport IconCheck from '../../../components/icons/check'\nimport IconCross from '../../../components/icons/cross'\n\nimport './_index.scss'\n\nfunction EditItemPage () {\n  const { router } = useRoute()\n  const [isLoading, setIsLoading] = useState(false)\n  const [data, setData] = useState<Item>({\n    _id: '',\n    name: ''\n  })\n\n  const [color, setColor] = useState('')\n  const [image, setImage] = useState('')\n  const [name, setName] = useState('')\n  const [url, setUrl] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [note, setNote] = useState('')\n\n  const [nameError, setNameError] = useState('')\n\n  const nameField = React.useRef() as React.RefObject<HTMLInputElement>\n\n  const save = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n\n    const item = {\n      group: null,\n      _id: router.getState().params.id,\n      color,\n      image,\n      name,\n      url,\n      username,\n      password,\n      note\n    }\n\n    if (!item.name) {\n      setNameError('This field is required')\n      nameField.current?.focus()\n    } else {\n      const res = await updateItem(item)\n      router.navigate('item', { id: res._id })\n    }\n    setIsLoading(false)\n  }\n\n  const getData = async () => {\n    const item = await getItem(router.getState().params.id).catch(() => null)\n    item ? setData(item) : router.navigate('home')\n  }\n\n  const syncFieldsWithData = () => {\n    data.color && setColor(data.color)\n    data.image && setImage(data.image)\n    data.name && setName(data.name)\n    data.url && setUrl(data.url)\n    data.username && setUsername(data.username)\n    data.password && setPassword(data.password)\n    data.note && setNote(data.note)\n  }\n\n  const onCancelClick = () => {\n    router.navigate('item', { id: data._id })\n  }\n\n  useEffect(() => {\n    getData()\n  }, [])\n\n  useEffect(() => {\n    syncFieldsWithData()\n  }, [data])\n\n  useEffect(() => {\n    if (!url) {\n      setImage('')\n      setColor('')\n    }\n  }, [url])\n\n  return (\n    <div className=\"page -edit-item\">\n      <section className=\"actions\">\n        <div className=\"buttons flex j-end\">\n          <UIButton size=\"small\" theme=\"ghost\" loading={isLoading} onClick={save}>\n            <div className=\"icon-container -check\">\n              <IconCheck />\n            </div>\n            <span>Save</span>\n          </UIButton>\n          <UIButton size=\"small\" theme=\"ghost\" onClick={onCancelClick}>\n            <div className=\"icon-container -cross\">\n              <IconCross />\n            </div>\n            <span>Cancel</span>\n          </UIButton>\n        </div>\n      </section>\n\n      <ItemPageHead\n        itemUrl={url}\n        imageSrc={image}\n        color={color}\n        onImageChange={(image: string) => setImage(image)}\n        onColorChange={(color: string) => setColor(color)}>\n        <div className=\"name\">{name}</div>\n        <div className=\"type\">Icon is based on item name or website</div>\n      </ItemPageHead>\n\n      <div className=\"separator\"/>\n\n      <section className=\"fields\">\n        <UIInput\n          ref={nameField}\n          error={nameError}\n          name=\"name\"\n          value={name}\n          autoComplete=\"off\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setName(e.target.value)}\n          onBlur={e => !e.target.value.length ? setNameError('') : null }>\n          <div>Name</div>\n        </UIInput>\n        <UIInput\n          type=\"url\"\n          name=\"url\"\n          value={url}\n          autoComplete=\"off\"\n          placeholder=\"https://example.com\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setUrl(e.target.value)}>\n          <div>Website</div>\n        </UIInput>\n        <UIInput\n          name=\"username\"\n          value={username}\n          autoComplete=\"off\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setUsername(e.target.value)}>\n          <div>Username</div>\n        </UIInput>\n        <PasswordField\n          value={password}\n          generator={true}\n          autoComplete=\"off\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)}\n          onGenerate={(value: string) => setPassword(value)}/>\n        <UITextarea\n          name=\"note\"\n          value={note}\n          autoComplete=\"off\"\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setNote(e.target.value)}>\n          <div>Note</div>\n        </UITextarea>\n      </section>\n    </div>\n  )\n}\n\nexport default EditItemPage\n","// eslint-disable-next-line no-unused-vars\nimport React, { useEffect } from 'react'\n// import { useRouter } from 'react-router5'\n\nimport './_index.scss'\n\nfunction SettingsPage () {\n  // const router = useRouter()\n\n  // useEffect(() => {\n  //   router.navigate('settings.profile')\n  // }, [])\n\n  return (\n    <div className=\"page -settings flex center\">\n      <div>\n        <div>Select a menu item to see details</div>\n      </div>\n    </div>\n  )\n}\n\nexport default SettingsPage\n","import React from 'react'\n\nimport './_index.scss'\n\ninterface SettingsActionBarProps extends React.ComponentProps<any> {\n  left?: any,\n  right?: any\n}\n\nfunction SettingsActionBar (props: SettingsActionBarProps) {\n  return (\n    <div className=\"component -settings-action-bar flex j-between\">\n      <div className=\"buttons flex a-center\">\n        {props.left}\n      </div>\n\n      {props.right && <div className=\"buttons flex a-center\">\n        {props.right}\n      </div>}\n    </div>\n  )\n}\n\nexport default SettingsActionBar\n","import React from 'react'\n\nimport './_index.scss'\n\n/* eslint-disable no-unused-vars */\nexport enum AngleDirection {\n  top = 'top',\n  right = 'right',\n  bottom = 'bottom',\n  left = 'left'\n}\n/* eslint-enable no-unused-vars */\n\ninterface IconAngleProps extends React.ComponentProps<any> {\n  direction?: AngleDirection\n}\n\nfunction IconAngle (props: IconAngleProps) {\n  return (\n    <svg className={`icon -angle -${props.direction}`} width=\"9px\" height=\"14px\" viewBox=\"0 0 10 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-966.000000, -52.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(952.000000, 40.000000)\">\n            <g transform=\"translate(18.992790, 20.000000) rotate(-180.000000) translate(-18.992790, -20.000000) translate(14.000000, 12.000000)\">\n              <path d=\"M9.57696702,6.91122623 L2.41514961,0.414520855 C1.86245513,-0.138173618 0.967215329,-0.138173618 0.414520855,0.414520855 C-0.138173618,0.967215329 -0.138173618,1.86243493 0.414520855,2.41514961 L6.57070098,8.0000303 L0.414520855,13.5848706 C-0.138173618,14.1375449 -0.138173618,15.0327847 0.414520855,15.5854791 C0.967215329,16.1381736 1.86245513,16.1381736 2.41514961,15.5854791 L9.57696702,9.08877377 C9.87559577,8.79014503 10.0072849,8.3910778 9.98268032,8.0000101 C10.0066385,7.6089222 9.87559577,7.20987517 9.57696702,6.91122623 Z\" />\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconAngle\n","import React, { forwardRef, useEffect, useState } from 'react'\nimport IconAngle, { AngleDirection } from '../../icons/angle'\n\nimport './_index.scss'\n\ninterface DropdownProps extends React.ComponentProps<any> {\n  left?: any,\n  right?: any,\n  onOpen?: Function,\n  onClose?: Function\n}\n\nconst UIDropdown = forwardRef((props: DropdownProps, ref: any) => {\n  const [isOpened, setIsOpened] = useState(false)\n  const [angleDirection, setAngleDirection] = useState<AngleDirection>(AngleDirection.right)\n\n  const toggle = () => {\n    setIsOpened(!isOpened)\n  }\n\n  const close = () => {\n    setIsOpened(false)\n  }\n\n  useEffect(() => {\n    isOpened && props.onOpen && props.onOpen()\n    !isOpened && props.onClose && props.onClose()\n    setAngleDirection(isOpened ? AngleDirection.bottom : AngleDirection.right)\n  }, [isOpened])\n\n  useEffect(() => {\n    if (ref) {\n      ref.current = { close }\n    }\n  }, [ref])\n\n  return (\n    <div className={`component -dropdown ${isOpened ? '-opened' : ''}`}>\n      {props.label && <div className=\"label\">{props.label}</div>}\n      <div className=\"head\" onClick={toggle}>\n        <div className=\"flex a-center j-between\">\n          <div>{props.left}</div>\n          <div className=\"right\">{props.right}</div>\n        </div>\n        <div className=\"icon-container -angle\">\n          <IconAngle direction={angleDirection} />\n        </div>\n      </div>\n      {isOpened && <div className=\"content\">\n        <div>{props.children}</div>\n      </div>}\n    </div>\n  )\n})\n\nUIDropdown.displayName = 'UIDropdown'\n\nexport default UIDropdown\n","import React, { useEffect, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport moment from 'moment'\nimport { changePassword } from '../../../store/auth/events'\nimport { $auth } from '../../../store/auth/store'\n\nimport PasswordField from '../../ui/password-field'\nimport UIButton from '../../ui/button'\nimport UIDropdown from '../../ui/dropdown'\n\nimport './_index.scss'\n\nfunction SettingsPasswordDropdown () {\n  const [currentPassword, setCurrentPassword] = useState('')\n  const [newPassword, setNewPassword] = useState('')\n  const [repeatPassword, setRepeatPassword] = useState('')\n  const [currentPasswordError, setCurrentPasswordError] = useState('')\n  const [newPasswordError, setNewPasswordError] = useState('')\n  const [repeatPasswordError, setRepeatPasswordError] = useState('')\n  const [passwordUpdatedDate, setPasswordUpdatedDate] = useState('')\n\n  const user = useStore($auth).user\n\n  const currentPasswordField = React.createRef()\n  const newPasswordField = React.createRef()\n  const repeatPasswordField = React.createRef()\n  const dropdown = React.createRef()\n\n  const updatePasswordDate = (date?: Date) => {\n    if (!user?.passwordUpdated) {\n      return\n    }\n    const lastUpdated = moment(date || user?.passwordUpdated).fromNow()\n    setPasswordUpdatedDate(lastUpdated)\n  }\n\n  const close = () => {\n    (dropdown.current as any)?.close()\n  }\n\n  const save = (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (newPassword !== repeatPassword) {\n      setRepeatPassword('')\n      setRepeatPasswordError('Passwords don\\'t match');\n      (repeatPasswordField.current as any)?.focus()\n      return\n    }\n\n    if (newPassword === currentPassword) {\n      setRepeatPassword('')\n      setNewPasswordError('It\\'s your current password');\n      (newPasswordField.current as any)?.focus()\n      return\n    }\n\n    changePassword({\n      currentPassword,\n      newPassword,\n      repeatPassword\n    }).then(() => {\n      updatePasswordDate(new Date())\n      close()\n    }).catch((err: any) => {\n      if (err.response.data.status === 403) {\n        setCurrentPasswordError('Wrong current password');\n        (currentPasswordField.current as any)?.focus();\n        (currentPasswordField.current as any)?.select()\n      }\n    })\n  }\n\n  const clear = () => {\n    setCurrentPassword('')\n    setNewPassword('')\n    setRepeatPassword('')\n  }\n\n  const onOpen = () => {\n    (currentPasswordField.current as any)?.focus()\n  }\n\n  const onClose = () => {\n    clear()\n  }\n\n  useEffect(() => {\n    updatePasswordDate()\n  }, [])\n\n  return (\n    <div className=\"component -settings-password-dropdown\">\n      <UIDropdown\n        ref={dropdown}\n        left=\"Account password\"\n        right={<span className=\"text-security-strong\">updated {passwordUpdatedDate}</span>}\n        onOpen={onOpen}\n        onClose={onClose}>\n        <form onSubmit={save}>\n          <div className=\"row\">\n            <PasswordField\n              ref={currentPasswordField}\n              value={currentPassword}\n              type=\"password\"\n              placeholder=\"Current password\"\n              error={currentPasswordError}\n              onInput={(e: React.ChangeEvent<HTMLInputElement>) => setCurrentPassword(e.target.value)} />\n          </div>\n          <div className=\"row\">\n            <PasswordField\n              ref={newPasswordField}\n              value={newPassword}\n              error={newPasswordError}\n              placeholder=\"New password\"\n              onInput={(e: React.ChangeEvent<HTMLInputElement>) => setNewPassword(e.target.value)} />\n          </div>\n          <div className=\"row\">\n            <PasswordField\n              ref={repeatPasswordField}\n              value={repeatPassword}\n              type=\"password\"\n              placeholder=\"Confirm new password\"\n              error={repeatPasswordError}\n              onInput={(e: React.ChangeEvent<HTMLInputElement>) => setRepeatPassword(e.target.value)} />\n          </div>\n          <div className=\"form-buttons buttons\">\n            <UIButton size=\"small\" type=\"submit\" disabled={!currentPassword || !newPassword || !repeatPassword}>Change</UIButton>\n            <UIButton size=\"small\" theme=\"ghost\" onClick={close}>Cancel</UIButton>\n          </div>\n        </form>\n      </UIDropdown>\n    </div>\n  )\n}\n\nexport default SettingsPasswordDropdown\n","import React, { useEffect, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport moment from 'moment'\nimport { changeSecurityCode } from '../../../store/auth/events'\nimport { $auth } from '../../../store/auth/store'\n\nimport PasswordField from '../../ui/password-field'\nimport UIButton from '../../ui/button'\nimport UIDropdown from '../../ui/dropdown'\n\nimport './_index.scss'\n\nfunction SettingsSecurityCodeDropdown () {\n  const [currentCode, setCurrentCode] = useState('')\n  const [newCode, setNewCode] = useState('')\n  const [repeatCode, setRepeatCode] = useState('')\n  const [currentCodeError, setCurrentCodeError] = useState('')\n  const [newCodeError, setNewCodeError] = useState('')\n  const [repeatCodeError, setRepeatCodeError] = useState('')\n  const [codeUpdatedDate, setCodeUpdatedDate] = useState('')\n\n  const user = useStore($auth).user\n\n  const currentCodeField = React.createRef()\n  const newCodeField = React.createRef()\n  const repeatCodeField = React.createRef()\n  const dropdown = React.createRef()\n\n  const updateCodeDate = (date?: Date) => {\n    if (!user?.securityCodeUpdated) {\n      return\n    }\n    const lastUpdated = moment(date || user?.securityCodeUpdated).fromNow()\n    setCodeUpdatedDate(lastUpdated)\n  }\n\n  const close = () => {\n    (dropdown.current as any)?.close()\n  }\n\n  const save = (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (newCode !== repeatCode) {\n      setRepeatCode('')\n      setRepeatCodeError('Codes don\\'t match');\n      (repeatCodeField.current as any)?.focus()\n      return\n    }\n\n    if (newCode === currentCode) {\n      setRepeatCode('')\n      setNewCodeError('It\\'s your current Code');\n      (newCodeField.current as any)?.focus()\n      return\n    }\n\n    changeSecurityCode({\n      currentCode,\n      newCode,\n      repeatCode\n    }).then(() => {\n      updateCodeDate(new Date())\n      close()\n    }).catch((err: any) => {\n      if (err.response.data.status === 403) {\n        setCurrentCodeError('Wrong current Code');\n        (currentCodeField.current as any)?.focus();\n        (currentCodeField.current as any)?.select()\n      }\n    })\n  }\n\n  const clear = () => {\n    setCurrentCode('')\n    setNewCode('')\n    setRepeatCode('')\n  }\n\n  const onOpen = () => {\n    (currentCodeField.current as any)?.focus()\n  }\n\n  const onClose = () => {\n    clear()\n  }\n\n  useEffect(() => {\n    updateCodeDate()\n  }, [])\n\n  return (\n    <div className=\"component -settings-security-code-dropdown\">\n      <UIDropdown\n        ref={dropdown}\n        left=\"Security code\"\n        right={<span className=\"text-security-strong\">updated {codeUpdatedDate}</span>}\n        onOpen={onOpen}\n        onClose={onClose}>\n        <form onSubmit={save}>\n          <div className=\"row\">\n            <PasswordField\n              ref={currentCodeField}\n              value={currentCode}\n              type=\"password\"\n              placeholder=\"Current security code\"\n              error={currentCodeError}\n              onInput={(e: React.ChangeEvent<HTMLInputElement>) => setCurrentCode(e.target.value)} />\n          </div>\n          <div className=\"row\">\n            <PasswordField\n              ref={newCodeField}\n              value={newCode}\n              error={newCodeError}\n              placeholder=\"New security code\"\n              onInput={(e: React.ChangeEvent<HTMLInputElement>) => setNewCode(e.target.value)} />\n          </div>\n          <div className=\"row\">\n            <PasswordField\n              ref={repeatCodeField}\n              value={repeatCode}\n              type=\"Code\"\n              placeholder=\"Confirm new security code\"\n              error={repeatCodeError}\n              onInput={(e: React.ChangeEvent<HTMLInputElement>) => setRepeatCode(e.target.value)} />\n          </div>\n          <div className=\"form-buttons buttons\">\n            <UIButton size=\"small\" type=\"submit\" disabled={!currentCode || !newCode || !repeatCode}>Change</UIButton>\n            <UIButton size=\"small\" theme=\"ghost\" onClick={close}>Cancel</UIButton>\n          </div>\n        </form>\n      </UIDropdown>\n    </div>\n  )\n}\n\nexport default SettingsSecurityCodeDropdown\n","import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'react-router5'\nimport { $auth } from '../../../store/auth/store'\nimport { logout as sendLogoutRequest, updateProfile } from '../../../store/auth/events'\n\nimport { useStore } from 'effector-react'\n\nimport ActionBar from '../../../components/settings/action-bar/action-bar'\nimport UIInput from '../../../components/ui/input'\nimport UIButton from '../../../components/ui/button'\nimport IconCheck from '../../../components/icons/check'\nimport IconAngle from '../../../components/icons/angle'\nimport PasswordDropdown from '../../../components/settings/password-dropdown'\nimport SecurityCodeDropdown from '../../../components/settings/security-code-dropdown'\n\nimport './_index.scss'\n\nfunction SettingsProfilePage () {\n  const router = useRouter()\n  const user = useStore($auth).user\n  const [hasChanged, setHasChanged] = useState(false)\n  const [username, setUsername] = useState('')\n\n  const save = async () => {\n    updateProfile({\n      username\n    }).catch(() => null)\n  }\n\n  const logout = async () => {\n    await sendLogoutRequest()\n    router.navigate('auth')\n  }\n\n  const updateFields = () => {\n    user && setUsername(user.username)\n  }\n\n  useEffect(() => {\n    user && setHasChanged(username !== user.username)\n  }, [username])\n\n  useEffect(() => {\n    updateFields()\n  }, [user])\n\n  return (\n    <div className=\"page -settings-profile\">\n      <ActionBar left={\n        <UIButton routeName=\"settings\" size=\"small\" theme=\"ghost\">\n            <span className=\"icon-container -angle\">\n              <IconAngle />\n            </span>\n          <span>Back</span>\n        </UIButton>\n      } right={\n        <UIButton size=\"small\" theme=\"ghost\" disabled={!hasChanged} onClick={save}>\n            <span className=\"icon-container -check\">\n              <IconCheck />\n            </span>\n          <span>Save</span>\n        </UIButton>\n      } />\n\n      <section>\n        <UIInput\n          value={username}\n          onInput={(e: React.ChangeEvent<HTMLInputElement>) => setUsername(e.target.value)}>\n          Username\n        </UIInput>\n      </section>\n\n      <section className=\"security\">\n        <PasswordDropdown />\n        <SecurityCodeDropdown />\n      </section>\n\n      <section>\n        <UIButton theme=\"danger\" onClick={logout}>Logout</UIButton>\n      </section>\n    </div>\n  )\n}\n\nexport default SettingsProfilePage\n","import React from 'react'\n\nimport UIButton from '../../components/ui/button'\nimport IconAngle from '../../components/icons/angle'\nimport ActionBar from '../../components/settings/action-bar/action-bar'\n\nfunction SettingsGeneralPage () {\n  return (\n    <div className=\"page -settings-general\">\n      <ActionBar left={\n        <UIButton routeName=\"settings\" size=\"small\" theme=\"ghost\">\n            <span className=\"icon-container -angle\">\n              <IconAngle />\n            </span>\n          <span>Back</span>\n        </UIButton>\n      } right={null} />\n\n      <section>\n        <div>Color theme:</div>\n        <select defaultValue=\"dark\" disabled={true}>\n          <option value=\"dark\">Dark</option>\n        </select>\n      </section>\n\n      <section>\n        <div>Language:</div>\n        <select defaultValue=\"en\" disabled={true}>\n          <option value=\"en\">English</option>\n        </select>\n      </section>\n    </div>\n  )\n}\n\nexport default SettingsGeneralPage\n","import React from 'react'\nimport UIButton from '../../components/ui/button'\nimport IconAngle from '../../components/icons/angle'\nimport ActionBar from '../../components/settings/action-bar/action-bar'\n\nfunction SettingsAboutPage () {\n  return (\n    <div className=\"page -settings-about\">\n      <ActionBar left={\n        <UIButton routeName=\"settings\" size=\"small\" theme=\"ghost\">\n            <span className=\"icon-container -angle\">\n              <IconAngle />\n            </span>\n          <span>Back</span>\n        </UIButton>\n      } right={null} />\n\n      <section>\n        See more at <a href=\"https://github.com/star-tech-dev/passwords-frontend\" target=\"_blank\" rel=\"noreferrer\">GitHub repo</a>.\n      </section>\n    </div>\n  )\n}\n\nexport default SettingsAboutPage\n","import React from 'react'\n\nimport './_index.scss'\n\nfunction NotFoundPage () {\n  return (\n    <div className=\"page -not-found\">\n      <div>404</div>\n      <div>\n        <a href=\"/\">home page</a>\n      </div>\n    </div>\n  )\n}\n\nexport default NotFoundPage\n","import React from 'react'\nimport RoundLoader from '../round'\n\nimport './_index.scss'\n\nfunction Loader () {\n  return (\n    <div className=\"component -page-loader flex center\">\n      <RoundLoader />\n    </div>\n  )\n}\n\nexport default Loader\n","import React, { useEffect, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport { $modals } from '../../../store/modals/store'\nimport { closeModal } from '../../../store/modals/events'\nimport { ModalName } from '../../../store/modals/types'\n// import CrossIcon from '../../icons/cross'\n\nimport './_index.scss'\n\ninterface ModalWrapperProps {\n  id: ModalName,\n  children?: any,\n  closable?: boolean,\n  heading?: any,\n  size?: 'default' | 'auto',\n  onOpen?: Function,\n  onClose?: Function,\n  onConfirm?: Function\n}\n\nfunction ModalWrapper (props: ModalWrapperProps) {\n  const [_mounted, _setMounted] = useState(false)\n  const modals = useStore($modals)\n  const [show, setShow] = useState(false)\n  const classList = `component -modal -${props.id} -size-${props.size || 'default'}`\n\n  const isClosable = () => {\n    return props.closable || props.closable === undefined\n  }\n\n  // const onKeyUp = (e: React.KeyboardEvent) => {\n  //   console.log('e', e.keyCode)\n  //   if (e.keyCode === 27) { // esc\n  //     closeModal(props.id)\n  //   }\n  //   if (e.keyCode === 13) { // enter\n  //     props.onConfirm && props.onConfirm()\n  //   }\n  // }\n\n  // const enableKeyUpWatcher = () => {\n  //   console.log('enableKeyUpWatcher')\n  //   // @ts-ignore\n  //   document.addEventListener('keyup', onKeyUp)\n  // }\n\n  // const disableKeyUpWatcher = () => {\n  //   console.log('disableKeyUpWatcher')\n  //   // @ts-ignore\n  //   document.removeEventListener('keyup', onKeyUp)\n  // }\n\n  useEffect(() => {\n    _setMounted(true)\n  }, [])\n\n  useEffect(() => {\n    const unwatch = $modals.watch(modals => {\n      setShow(modals.includes(props.id))\n    })\n    return () => {\n      unwatch()\n    }\n  }, [modals])\n\n  useEffect(() => {\n    if (_mounted) {\n      if (show) {\n        // enableKeyUpWatcher()\n        props.onOpen && props.onOpen()\n      }\n      if (!show) {\n        // disableKeyUpWatcher()\n        props.onClose && props.onClose()\n      }\n    }\n  }, [show])\n\n  const close = () => {\n    if (isClosable()) {\n      closeModal(props.id)\n    }\n  }\n\n  const onParentClick = (e: React.MouseEvent) => {\n    const target = e.target as Element\n    if (target.classList.contains('component') && target.classList.contains('-modal')) {\n      close()\n    }\n  }\n\n  if (show) {\n    return (\n      <div className={classList} onClick={onParentClick}>\n        <dialog open className=\"dialog\">\n          {/* {isClosable() && <div className=\"close\" onClick={close}> */}\n          {/*  <CrossIcon/> */}\n          {/* </div>} */}\n          {props.heading && <div className=\"head\">\n            <div className=\"h2 flex center\">{props.heading}</div>\n          </div>}\n          <div className=\"body\">{props.children}</div>\n        </dialog>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default ModalWrapper\n","import React, { useState } from 'react'\nimport { useRouter } from 'react-router5'\nimport { logout as sendLogoutRequest, setUserSecurityCode } from '../../../store/auth/events'\nimport { closeModal } from '../../../store/modals/events'\n\nimport ModalWrapper from '../wrapper'\nimport UIButton from '../../ui/button'\nimport PasswordField from '../../ui/password-field'\n\nimport './_index.scss'\n\nfunction SetSecurityCodeModal () {\n  const id = 'set_security_code'\n  const router = useRouter()\n  const [code, setCode] = useState('')\n  const [fieldError, setFieldError] = useState('')\n  const field = React.createRef() as React.RefObject<HTMLInputElement>\n\n  const logout = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await sendLogoutRequest()\n    closeModal(id)\n    router.navigate('auth')\n  }\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!code.length) {\n      setFieldError('This field is required')\n      return\n    }\n    await setUserSecurityCode(code)\n      .catch(err => {\n        field.current?.focus()\n        setFieldError(err?.response?.data?.message || 'Server error')\n      })\n  }\n\n  return (\n    <ModalWrapper id={id} closable={false} heading=\"Set your security code:\">\n      <form onSubmit={onSubmit}>\n        <div className=\"form flex a-center j-between\">\n          <div className=\"grow\">\n            <PasswordField\n              value={code}\n              ref={field}\n              autoFocus={true}\n              boxShadow={false}\n              generator={false}\n              error={fieldError}\n              placeholder=\"security_code\"\n              onInput={(e: React.ChangeEvent<HTMLInputElement>) => setCode(e.target.value)} />\n          </div>\n          <UIButton>Set</UIButton>\n        </div>\n\n        <div className=\"text\">\n          <div>This is&nbsp;a&nbsp;required step for advanced app security.</div>\n          <div><br/></div>\n          <div>Set a&nbsp;passcode that you can remember.</div>\n          <div>You will be&nbsp;able to&nbsp;lock the app without session logout.</div>\n          <div><br/></div>\n          <div>\n            <span>Also you may </span>\n            <a href=\"\" onClick={logout}>logout</a>\n            <span> and process this step in&nbsp;the future.</span>\n          </div>\n        </div>\n      </form>\n    </ModalWrapper>\n  )\n}\n\nexport default SetSecurityCodeModal\n","interface generateOptions {\n  length?: number,\n  smallLetters?: boolean,\n  largeLetters?: boolean,\n  numbers?: boolean,\n  symbols?: boolean\n}\n\ninterface optionsObject {\n  length: number,\n  smallLetters: boolean,\n  largeLetters: boolean,\n  numbers: boolean,\n  symbols: boolean\n}\n\nconst defaultOptions = {\n  length: 18,\n  smallLetters: true,\n  largeLetters: true,\n  numbers: true,\n  symbols: false\n} as optionsObject\n\nexport function generatePassword (_options: generateOptions) {\n  const options = { ...defaultOptions, ..._options } as optionsObject\n  let value = ''\n  const charset = {\n    small: 'abcdefghijklmnopqrstuvwxyz',\n    large: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',\n    numbers: '0123456789',\n    symbols: '~!@#$%^&*()_-+=|:;,.',\n    current: ''\n  }\n  if (options.smallLetters) {\n    charset.current += `${charset.small}${charset.small}`\n  }\n  if (options.largeLetters) {\n    charset.current += `${charset.large}${charset.large}`\n  }\n  if (options.numbers) {\n    charset.current += `${charset.numbers}${charset.numbers}`\n  }\n  if (options.symbols) {\n    charset.current += charset.symbols\n  }\n  for (let i = 0; i < options.length; ++i) {\n    value += charset.current.charAt(Math.floor(Math.random() * charset.current.length))\n  }\n  return value\n}\n","import React from 'react'\n\nimport IconCheck from '../../icons/check'\n\nimport './_index.scss'\n\ninterface UICheckboxProps extends React.ComponentProps<any> {}\n\nfunction UICheckbox (props: UICheckboxProps) {\n  const inputProps = () => {\n    const _props = { ...props }\n    delete _props.children\n    return _props\n  }\n  return (\n    <div className=\"component -ui-checkbox\">\n      <label className=\"flex a-center\">\n        <input type=\"checkbox\" {...inputProps()} />\n        <div className=\"icon-container -check box flex center\">\n          <IconCheck />\n        </div>\n        <div className=\"label\">{props.children}</div>\n      </label>\n    </div>\n  )\n}\n\nexport default UICheckbox\n","import React, { useState } from 'react'\n\nimport './_index.scss'\n\ninterface SafetyRangeProps extends React.ComponentProps<any> {}\n\nfunction SafetyRange (props: SafetyRangeProps) {\n  const [holdLoop, setHoldLoop] = useState<any>(null)\n  const [isMouseDown, setIsMouseDown] = useState(false)\n  const [isDragging, setIsDragging] = useState(false)\n  let domRef = null as any\n  const setDomRef = (element: any) => {\n    domRef = element\n  }\n\n  const forceNumber = (n: any) => {\n    n = Number(n)\n    if (isNaN(n) || typeof n === 'undefined') {\n      n = 0\n    }\n    return n\n  }\n\n  const makeHoldLoop = (oldVal: any) => {\n    return setInterval(function () {\n      if (!isMouseDown || isDragging) {\n        // The user isn't holding the cursor anymore, or the cursor\n        // is being dragged. Clean up and cancel.\n        if (holdLoop) {\n          clearInterval(holdLoop)\n          setHoldLoop(null)\n        }\n        return false\n      }\n\n      const input = domRef.current\n      let newVal = props.value\n\n      if (\n        oldVal > newVal &&\n        (newVal - props.step) >= props.min\n      ) {\n        newVal -= props.step\n      } else if (\n        oldVal < newVal &&\n        (newVal + props.step) <= props.max\n      ) {\n        newVal += props.step\n      }\n\n      if (oldVal === newVal) {\n        return false\n      }\n\n      // Directly setting input.value will cause the new value\n      // to not be recognized, because of React.\n      // https://stackoverflow.com/a/46012210/173630\n      // @ts-ignore\n      const nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set\n      // @ts-ignore\n      nativeInputValueSetter.call(input, newVal)\n\n      // Trigger an onChange event.\n      const e = new Event('change', { bubbles: true })\n\n      return input.dispatchEvent(e)\n    }, 100)\n  }\n\n  const onMouseDown = () => {\n    setIsMouseDown(true)\n\n    if (props.hold) {\n      if (holdLoop) {\n        clearInterval(holdLoop)\n        setHoldLoop(null)\n      }\n\n      const oldVal = props.value\n\n      setTimeout(() => {\n        if (holdLoop) {\n          clearInterval(holdLoop)\n          setHoldLoop(null)\n        }\n        setHoldLoop(makeHoldLoop(oldVal))\n        // Add some initial delay on the click-hold functionality.\n      }, 250)\n    }\n  }\n\n  const onMouseUp = () => {\n    setIsMouseDown(false)\n    setIsDragging(false)\n\n    if (holdLoop) {\n      clearInterval(holdLoop)\n      setHoldLoop(null)\n    }\n  }\n\n  const onMouseMove = () => {\n    if (isMouseDown) {\n      setIsDragging(true)\n    }\n  }\n\n  const onInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const step = props.step\n    const newVal = forceNumber(e.target.value)\n    const oldVal = props.value\n\n    if (\n      // Disable the oninput filter with the user is dragging\n      // the slider's knob.\n      !(isMouseDown && isDragging) &&\n      oldVal\n    ) {\n      e.target.value = (newVal > oldVal)\n        ? oldVal + step\n        : oldVal - step\n    }\n  }\n\n  return (\n    <div className=\"component -safety-range\">\n      <input\n      type=\"range\"\n      ref={setDomRef}\n      className={props.className}\n      min={props.min}\n      max={props.max}\n      step={props.step}\n      value={props.value}\n      name={props.name}\n      id={props.id}\n      style={props.style}\n      disabled={props.disabled}\n      onChange={props.onChange}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      onMouseMove={onMouseMove}\n      onInput={onInput} />\n    </div>\n  )\n}\n\nexport default SafetyRange\n","import React, { useEffect, useState } from 'react'\nimport tippy from 'tippy.js'\nimport { useStore } from 'effector-react'\nimport { closeModal } from '../../../store/modals/events'\nimport { $app as appStore } from '../../../store/app/store'\nimport { nextTick } from '../../../helpers/next-tick'\nimport { onCloseGenerator, onSaveGenerated } from '../../../store/app/events'\nimport { generatePassword } from '../../../helpers/password-generator'\nimport { GeneratorMode } from '../../../store/app/types'\n\nimport ModalWrapper from '../wrapper'\nimport UIInput from '../../ui/input'\nimport UIButton from '../../ui/button'\nimport UICheckbox from '../../ui/checkbox'\nimport UISafetyRange from '../../ui/safety-range'\n// import IconUpdate from '../../icons/update'\nimport IconCopy from '../../icons/copy'\n\nimport './_index.scss'\n\nfunction PasswordGeneratorModal () {\n  const id = 'password_generator'\n  const $app = useStore(appStore)\n  const [length, setLength] = useState(18)\n  const [code, setCode] = useState('')\n  const [smallLetters, setSmallLetters] = useState(true)\n  const [largeLetters, setLargeLetters] = useState(true)\n  const [numbers, setNumbers] = useState(true)\n  const [symbols, setSymbols] = useState(false)\n\n  const codeField = React.createRef()\n\n  const focusAndSelect = () => {\n    nextTick(() => {\n      (codeField.current as any)?.focus();\n      (codeField.current as any)?.select()\n    })\n  }\n\n  const generate = () => {\n    const password = generatePassword({\n      length,\n      smallLetters,\n      largeLetters,\n      numbers,\n      symbols\n    })\n\n    setCode(password)\n    focusAndSelect()\n  }\n\n  const save = () => {\n    onSaveGenerated(code)\n    closeModal(id)\n  }\n\n  const copy = () => {\n    navigator.clipboard.writeText(code)\n\n    const tooltipElement = document.querySelector('.component.-modal.-password_generator .icon-container.-copy')\n    if (tooltipElement) {\n      setTimeout(() => {\n        (tooltipElement as any)._tippy?.show()\n      }, 100)\n      setTimeout(() => {\n        (tooltipElement as any)._tippy?.hide()\n      }, 1600)\n    }\n  }\n\n  const createTooltip = () => {\n    nextTick(() => {\n      tippy('.component.-modal.-password_generator .icon-container.-copy', {\n        trigger: 'click',\n        content: 'Copied'\n      })\n    })\n  }\n\n  const onOpen = () => {\n    generate()\n    createTooltip()\n  }\n\n  const onClose = () => {\n    onCloseGenerator()\n  }\n\n  useEffect(() => {\n    focusAndSelect()\n  }, [code])\n\n  useEffect(() => {\n    generate()\n  }, [length, smallLetters, largeLetters, numbers, symbols])\n\n  return (\n    <ModalWrapper id={id} onOpen={onOpen} onClose={onClose}>\n      <section className=\"field\">\n        <div className=\"icons\">\n          <div className=\"icon-container -copy\" onClick={copy}>\n            <IconCopy />\n          </div>\n        </div>\n        <UIInput ref={codeField} value={code} readOnly={true} onClick={() => focusAndSelect()}>\n          <div>Generated password</div>\n        </UIInput>\n      </section>\n\n      <section className=\"options\">\n        <div className=\"length-bar\">\n          <div className=\"flex a-center j-between\">\n            <div>weak</div>\n            <div>length {length}</div>\n            <div>strong</div>\n          </div>\n          <UISafetyRange min={4} max={30} value={length} step={1} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setLength(+e.target.value)} />\n        </div>\n\n        <div className=\"checkboxes flex a-center\">\n          <UICheckbox checked={smallLetters} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setSmallLetters(e.target.checked)}>\n            <div>abc</div>\n          </UICheckbox>\n          <UICheckbox checked={largeLetters} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setLargeLetters(e.target.checked)}>\n            <div>ABC</div>\n          </UICheckbox>\n          <UICheckbox checked={numbers} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNumbers(e.target.checked)}>\n            <div>123</div>\n          </UICheckbox>\n          <UICheckbox checked={symbols} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setSymbols(e.target.checked)}>\n            <div>@&%#</div>\n          </UICheckbox>\n        </div>\n      </section>\n\n      <section className=\"modal-buttons buttons\">\n        {$app.generatorMode === GeneratorMode.field && <UIButton onClick={save}>Keep</UIButton>}\n        <UIButton onClick={generate} theme=\"ghost\">Regenerate</UIButton>\n        <UIButton theme=\"ghost\" onClick={() => closeModal(id)}>Close</UIButton>\n      </section>\n    </ModalWrapper>\n  )\n}\n\nexport default PasswordGeneratorModal\n","import React, { useState } from 'react'\nimport { useStore } from 'effector-react'\nimport { useRouter } from 'react-router5'\nimport { closeModal } from '../../../store/modals/events'\nimport { deleteItem } from '../../../store/items/events'\nimport { $app as appStore } from '../../../store/app/store'\nimport { $items as itemsStore } from '../../../store/items/store'\n\nimport ModalWrapper from '../wrapper'\nimport UIButton from '../../ui/button'\nimport IconDelete from '../../icons/delete'\n\nimport './_index.scss'\n\nfunction DeleteItemModal () {\n  const [isLoading, setIsLoading] = useState(false)\n  const [name, setName] = useState('')\n  const id = 'delete_item'\n  const $app = useStore(appStore)\n  const $items = useStore(itemsStore)\n  const router = useRouter()\n\n  const getItemName = () => {\n    const item = $items.find(i => i._id === $app.itemToDelete)\n    setName(item?.name || $app.itemToDelete || '')\n  }\n\n  const onOpen = () => {\n    getItemName()\n  }\n\n  const onDelete = async () => {\n    setIsLoading(true)\n\n    await deleteItem({\n      id: $app.itemToDelete\n    }).then(() => {\n      closeModal(id)\n      router.navigate('home')\n    }).catch(err => {\n      console.warn('err', err)\n    })\n\n    setIsLoading(false)\n  }\n\n  return (\n    <ModalWrapper id={id} onOpen={onOpen} onConfirm={onDelete}>\n      <div className=\"modal-title\">Delete the record?</div>\n      <div className=\"modal-subtitle\">\n        <div className=\"item-name\">{name}</div>\n      </div>\n      <div className=\"modal-buttons buttons\">\n        <UIButton size=\"small\" theme=\"danger\" loading={isLoading} onClick={onDelete}>\n          <div className=\"icon-container -delete\">\n            <IconDelete />\n          </div>\n          <span>Delete</span>\n        </UIButton>\n        <UIButton size=\"small\" theme=\"ghost\" onClick={() => closeModal(id)}>Cancel</UIButton>\n      </div>\n    </ModalWrapper>\n  )\n}\n\nexport default DeleteItemModal\n","import React, { useEffect, useState } from 'react'\nimport { $modals } from '../../../store/modals/store'\n\nimport SetSecurityCodeModal from '../set-security-code'\nimport PasswordGeneratorModal from '../password-generator'\nimport DeleteItemModal from '../delete-item'\n\nimport './_index.scss'\n\nfunction ModalController () {\n  const [show, setShow] = useState(false)\n\n  useEffect(() => {\n    const unwatch = $modals.watch(modals => {\n      setShow(!!modals.length)\n    })\n    return () => {\n      unwatch()\n    }\n  }, [])\n\n  return (\n    <div className={`component -modal-controller ${show ? '-active' : ''}`}>\n      <SetSecurityCodeModal />\n      <PasswordGeneratorModal />\n      <DeleteItemModal />\n    </div>\n  )\n}\n\nexport default ModalController\n","import React, { useEffect } from 'react'\nimport { useRoute } from 'react-router5'\nimport { useStore } from 'effector-react'\nimport { setMounted } from './store/app/events'\nimport { checkUserSecurityCode } from './store/auth/events'\nimport { $locker } from './store/locker/store'\nimport { checkIsAppLocked } from './store/locker/events'\n\n// layouts\nimport DefaultLayout from './layouts/default'\nimport SimpleLayout from './layouts/simple'\n\n// App pages\nimport HomePage from './pages/home'\nimport AuthPage from './pages/auth'\nimport UnlockPage from './pages/unlock'\nimport AddItemPage from './pages/item/add'\nimport ItemPage from './pages/item'\nimport ItemEditPage from './pages/item/edit'\nimport SettingsPage from './pages/settings'\nimport SettingsProfilePage from './pages/settings/profile'\nimport SettingsGeneralPage from './pages/settings/general'\nimport SettingsAboutPage from './pages/settings/about'\nimport Index from './pages/not-found'\n\n// Layout components\nimport Loader from './components/loader/page-loader'\nimport ModalController from './components/modals/controller'\n\nconst SIMPLE_LAYOUT_PAGES = ['auth', 'unlock', '@@router5/UNKNOWN_ROUTE']\n\nfunction App () {\n  const { route } = useRoute()\n  const locker = useStore($locker)\n\n  useEffect(() => {\n    const unwatchMounted = setMounted.watch(mounted => {\n      if (mounted) {\n        /**\n         * app mounted after loader\n         */\n        checkUserSecurityCode()\n      }\n    })\n    return () => {\n      unwatchMounted()\n    }\n  }, [])\n\n  useEffect(() => {\n    checkIsAppLocked()\n  }, [locker])\n\n  function PageSwitcher () {\n    switch (route.name) {\n      case 'home':\n        return <HomePage />\n      case 'favourites':\n        return <HomePage />\n\n      case 'item':\n        return <ItemPage />\n      case 'item.edit':\n        return <ItemEditPage />\n      case 'add':\n        return <AddItemPage />\n\n      case 'auth':\n        return <AuthPage />\n      case 'unlock':\n        return <UnlockPage />\n\n      case 'settings':\n        return <SettingsPage />\n      case 'settings.profile':\n        return <SettingsProfilePage />\n      case 'settings.general':\n        return <SettingsGeneralPage />\n      case 'settings.about':\n        return <SettingsAboutPage />\n      default:\n        return <Index />\n    }\n  }\n\n  /**\n   * Комментарий по layouts:\n   * Если выбор layout вынести в функцию LayoutSwitcher,\n   * то при каждой смене роута layout будет монтироваться в dom\n   * TODO: research that\n   */\n  return (\n    <div>\n      {route\n        ? <div className=\"app\">\n          <ModalController/>\n\n          {SIMPLE_LAYOUT_PAGES.includes(route.name)\n            ? <SimpleLayout>\n            <PageSwitcher/>\n          </SimpleLayout>\n            : <DefaultLayout>\n            <PageSwitcher/>\n          </DefaultLayout>}\n        </div>\n        : <Loader /> }\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { RouterProvider } from 'react-router5'\nimport { configureRouter as createRouter } from './router'\nimport { setMounted } from './store/app/events'\n// import reportWebVitals from './report-web-vitals'\n\nimport App from './app'\n\nimport './assets/scss/index.scss'\n\nexport const router = createRouter()\n\nReactDOM.render(\n  <RouterProvider router={router}>\n    <App />\n  </RouterProvider>,\n  document.getElementById('root')\n)\n\nrouter.start(() => {\n  setMounted(true)\n})\n\n// If you want to start measuring performance in your app, pass a function.\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log)\n"],"sourceRoot":""}