{"version":3,"sources":["store/auth/domain.ts","store/locker/domain.ts","api/index.ts","store/locker/events.ts","store/modals/domain.ts","store/modals/events.ts","store/auth/events.ts","store/auth/store.ts","router/routes.ts","router/middlewares/session.ts","router/middlewares/accessor.ts","store/locker/store.ts","router/middlewares/locker.ts","router/index.ts","store/app/events.ts","store/app/domain.ts","components/loader/round/index.tsx","components/ui/button/index.tsx","components/icons/lock/index.tsx","components/icons/add.tsx","components/header/index.tsx","layouts/default.tsx","layouts/simple/index.tsx","helpers/next-tick.ts","store/items/domain.ts","store/items/events.ts","store/items/store.ts","components/item/index.tsx","components/items/index.tsx","components/icons/info.tsx","components/ui/input/index.tsx","components/search-bar/index.tsx","pages/home.tsx","pages/profile.tsx","components/auth/login-form/index.tsx","components/auth/register-form.tsx","pages/auth/index.tsx","pages/unlock/index.tsx","helpers/validator.ts","pages/add-item.tsx","pages/item.tsx","pages/not-found.tsx","components/loader/page-loader/index.tsx","store/modals/store.ts","components/icons/cross.tsx","components/modals/wrapper/index.tsx","components/modals/set-security-code.tsx","components/modals/controller/index.tsx","app.tsx","index.tsx"],"names":["AuthDomain","createDomain","LockerDomain","sendRequest","options","mergedOptions","method","withCredentials","url","process","Object","prototype","hasOwnProperty","call","params","data","axios","then","res","catch","err","response","status","setIsAppLocked","lock","createEffect","use","unlock","securityCode","checkIsAppLocked","createEvent","ModalsDomain","openModal","closeModal","closeLastModal","closeAllModals","register","effect","payload","username","password","login","logout","checkAuth","user","checkUserSecurityCode","event","setUserSecurityCode","$auth","store","on","done","state","result","isAppLocked","hasSecurityCode","name","path","private","forGuests","_checkAuth","a","getState","session","router","toState","fromState","onActivateHandlers","transitionPath","toActivate","map","segment","routes","find","r","onActivate","filter","Boolean","Promise","all","callback","routeData","reduce","accData","rData","assign","canActivate","routeName","foundRoute","i","isRouterOnlyForGuests","isRouterOnlyForAuthed","accessor","navigate","$locker","createStore","isLocked","lastPath","routerState","value","locker","configureRouter","createRouter","usePlugin","loggerPlugin","browserPlugin","useMiddleware","setMounted","RoundLoader","className","width","height","viewBox","version","xmlns","stroke","strokeWidth","fill","fillRule","transform","d","id","Button","forwardRef","props","ref","useRef","useState","buttonProps","setButtonProps","classList","theme","size","fullWidth","loading","innerRef","useEffect","current","fieldProps","update","children","displayName","IconLock","IconAdd","Header","href","target","rel","onClick","e","preventDefault","DefaultLayout","SimpleLayout","nextTick","cb","setTimeout","ItemsDomain","getItems","getItem","createItem","$items","push","Index","subtitle","note","title","useRouter","_id","src","alt","Items","items","useStore","onMounted","item","InfoIcon","Input","error","localError","setLocalError","iconError","React","focus","select","tippy","placement","content","onTooltipClick","type","onInput","SearchBar","_timeout","_setTimeout","query","setQuery","filterItems","clearTimeout","placeholder","HomePage","searchField","createRef","ProfilePage","redirect","sendLogoutRequest","readOnly","checked","onRegisterShow","loginUsername","setLoginUsername","loginPassword","setLoginPassword","usernameError","setUsernameError","passwordError","setPasswordError","usernameField","passwordField","isLoading","setIsLoading","sendLoginRequest","successResponse","onSubmit","errorsFound","length","field","message","validateForm","forEach","console","log","onChange","onBlur","RegisterForm","onLoginShow","registerUsername","setRegisterUsername","registerPassword","setRegisterPassword","registerEmail","setRegisterEmail","sendRegisterRequest","email","AuthPage","mode","setMode","UnlockPage","_loading","_setLoading","code","setCode","codeFieldError","setCodeFieldError","codeField","_logout","isAllFieldsEmpty","exclude","isFilled","entries","every","pair","includes","AddItemPage","useRoute","setName","setUrl","setUsername","setPassword","setNote","create","group","alert","ItemPage","setData","route","_getData","NotFound","Loader","$modals","set","Set","Array","from","slice","CrossIcon","ModalWrapper","undefined","closable","_mounted","_setMounted","modals","show","setShow","unwatch","watch","onOpen","onClose","close","contains","open","heading","SetSecurityCodeModal","element","ModalController","App","Switch","unwatchMounted","mounted","ReactDOM","render","document","getElementById","start"],"mappings":"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","file":"static/js/main.32cfddca.chunk.js","sourcesContent":["import { createDomain } from 'effector'\n\nexport const AuthDomain = createDomain()\n","import { createDomain } from 'effector'\n\nexport const LockerDomain = createDomain()\n","import axios, { AxiosRequestConfig } from 'axios'\nimport { setIsAppLocked } from '../store/locker/events'\n\nexport const sendRequest = (options: AxiosRequestConfig) => {\n  const mergedOptions = {\n    method: 'get',\n    withCredentials: true,\n    ...options\n  } as AxiosRequestConfig\n\n  mergedOptions.url = `${process.env.REACT_APP_API_BASE_URL}${options.url}`\n\n  if (mergedOptions.method === 'get' && Object.prototype.hasOwnProperty.call(mergedOptions, 'data')) {\n    mergedOptions.params = options.data\n    delete mergedOptions.data\n  }\n\n  return axios(mergedOptions)\n    .then(res => res.data)\n    .catch(err => {\n      if (err.response.status === 423) {\n        setIsAppLocked(true)\n      }\n      throw err\n    })\n}\n\nexport default { sendRequest }\n","import { LockerDomain } from './domain'\nimport { sendRequest } from '../../api'\nimport { SecurityCode } from './types'\n\nexport const lock = LockerDomain.createEffect<void, void>().use(() => {\n  return sendRequest({\n    method: 'post',\n    url: '/lock'\n  })\n})\n\nexport const unlock = LockerDomain.createEffect<SecurityCode, void>().use((securityCode: SecurityCode) => {\n  return sendRequest({\n    method: 'post',\n    url: '/unlock',\n    data: { securityCode }\n  })\n})\n\nexport const checkIsAppLocked = LockerDomain.createEvent()\n\nexport const setIsAppLocked = LockerDomain.createEvent<boolean>()\n","import { createDomain } from 'effector'\n\nexport const ModalsDomain = createDomain()\n","import { ModalsDomain } from './domain'\nimport { ModalName } from './types'\n\nexport const openModal = ModalsDomain.createEvent<ModalName>('open modal')\n\nexport const closeModal = ModalsDomain.createEvent<ModalName>('close modal')\n\nexport const closeLastModal = ModalsDomain.createEvent('close last modal')\n\nexport const closeAllModals = ModalsDomain.createEvent('close all modals')\n","import { AuthDomain } from './domain'\nimport { sendRequest } from '../../api'\nimport { RegisterPayload, User, LoginPayload, LoginResponse, AuthCheckResponse, SecurityCode } from './types'\n\nexport const register = AuthDomain.effect<RegisterPayload, User>().use((payload) => {\n  return sendRequest({\n    method: 'post',\n    data: {\n      username: payload.username,\n      password: payload.password\n    },\n    url: '/register'\n  })\n})\n\nexport const login = AuthDomain.effect<LoginPayload, LoginResponse>().use((payload) => {\n  return sendRequest({\n    method: 'post',\n    data: {\n      username: payload.username,\n      password: payload.password\n    },\n    url: '/login'\n  })\n})\n\nexport const logout = AuthDomain.effect<void, void>().use(() => {\n  return sendRequest({\n    url: '/logout'\n  })\n})\n\nexport const checkAuth = AuthDomain.effect<void, AuthCheckResponse>().use(() => {\n  return sendRequest({\n    url: '/auth'\n  }).catch(() => ({ user: null }))\n})\n\nexport const checkUserSecurityCode = AuthDomain.event()\n\nexport const setUserSecurityCode = AuthDomain.effect<SecurityCode, void>().use((securityCode) => {\n  return sendRequest({\n    method: 'post',\n    url: '/security-code',\n    data: { securityCode }\n  })\n})\n","import { AuthState } from './types'\nimport { AuthDomain } from './domain'\nimport { checkIsAppLocked, setIsAppLocked } from '../locker/events'\nimport { closeModal, openModal } from '../modals/events'\nimport { register, login, logout, checkAuth, checkUserSecurityCode, setUserSecurityCode } from './events'\n\nconst initialState: AuthState = {\n  user: null\n}\n\nexport const $auth = AuthDomain.store<AuthState>(initialState)\n  .on(register.done, (state, { result }) => {\n    state = {\n      ...state,\n      user: result\n    }\n    return state\n  })\n  .on(login.done, (state, { result }) => {\n    state = {\n      ...state,\n      user: result.user\n    }\n    checkIsAppLocked()\n    return state\n  })\n  .on(logout.done, (state) => {\n    state = {\n      ...state,\n      user: null\n    }\n    return state\n  })\n  .on(checkAuth.done, (state, { result }) => {\n    state = {\n      ...state,\n      user: result.user\n    }\n    setIsAppLocked(result.isAppLocked)\n    return state\n  })\n  .on(checkUserSecurityCode, (state) => {\n    state.user && !state.user.hasSecurityCode && openModal('set_security_code')\n    return state\n  })\n  .on(setUserSecurityCode, (state) => {\n    closeModal('set_security_code')\n    return state\n  })\n\nexport default { $auth }\n","export default [\n  {\n    name: 'home',\n    path: '/',\n    private: true\n  },\n  {\n    name: 'auth',\n    path: '/auth',\n    forGuests: true\n  },\n  {\n    name: 'unlock',\n    path: '/unlock',\n    private: true\n  },\n  {\n    name: 'item',\n    path: '/item/:id',\n    private: true\n  },\n  {\n    name: 'profile',\n    path: '/profile',\n    private: true\n  },\n  {\n    name: 'add',\n    path: '/add',\n    private: true\n  },\n  {\n    name: '404',\n    path: '/404'\n  }\n]\n","import transitionPath from 'router5-transition-path'\nimport { $auth } from '../../store/auth/store'\n// import { $locker } from '../../store/locker/store'\nimport { checkAuth } from '../../store/auth/events'\nimport { State } from 'router5/dist/types/base'\nimport { Router } from 'router5/dist/types/router'\n// import { checkIsAppLocked } from '../../store/locker/events'\n\nimport routes from '../routes'\n\nasync function _checkAuth () {\n  const user = $auth.getState().user\n  // console.log('_checkAuth', user)\n  if (!user) {\n    await checkAuth()\n  }\n}\n\nfunction _checkLocker () {\n  // checkIsAppLocked()\n  // const user = $auth.getState().user\n  // if (!user) {\n  //   return\n  // }\n  // const isLocked = $locker.getState().isLocked\n  // console.log('_checkLocker', isLocked)\n}\n\nexport const session = (router: Router) => (toState: State, fromState: State) => {\n  const { toActivate } = transitionPath(toState, fromState)\n  const onActivateHandlers =\n    toActivate\n      .map(segment => (routes as any).find((r: State) => r.name === segment).onActivate)\n      .filter(Boolean)\n\n  return Promise\n    .all(onActivateHandlers.map(callback => callback()))\n    // actions before app mounting\n    .then(async data => {\n      await _checkAuth()\n      _checkLocker()\n      return data\n    })\n    .then(data => {\n      const routeData = data.reduce((accData: any, rData: any) => Object.assign(accData, rData), {})\n      return { ...toState, data: routeData }\n    })\n}\n\nexport default session\n","import { $auth } from '../../store/auth/store'\nimport routes from '../routes'\nimport { State } from 'router5/dist/types/base'\n\nfunction showOnlyForGuests (): boolean {\n  return !$auth.getState().user\n}\n\nfunction showOnlyForAuthed (): boolean {\n  return !!$auth.getState().user\n}\n\nconst canActivate = (routeName: string): boolean => {\n  const foundRoute = routes.find(i => i.name === routeName)\n  const isRouterOnlyForGuests = foundRoute ? !!foundRoute.forGuests : false\n  const isRouterOnlyForAuthed = foundRoute ? !!foundRoute.private : false\n\n  if (isRouterOnlyForGuests) {\n    return showOnlyForGuests()\n  } else if (isRouterOnlyForAuthed) {\n    return showOnlyForAuthed()\n  } else {\n    return true\n  }\n}\n\nexport const accessor = (router: any) => (toState: State, fromState: State, done: any) => {\n  if (!canActivate(toState.name)) {\n    // redirecting to /auth\n    return router.navigate('auth')\n  }\n  done()\n}\n\nexport default accessor\n","import { createStore } from 'effector'\nimport { checkIsAppLocked, lock, setIsAppLocked, unlock } from './events'\nimport { $auth } from '../auth/store'\nimport { router } from '../../index'\nimport { State } from './types'\n\nconst initialState: State = {\n  isLocked: false,\n  lastPath: null\n}\n\nexport const $locker = createStore(initialState)\n  .on(lock.done, state => {\n    state = {\n      ...state,\n      isLocked: true\n    }\n    return state\n  })\n  .on(unlock.done, state => {\n    state = {\n      ...state,\n      isLocked: false\n    }\n    return state\n  })\n  .on(checkIsAppLocked, state => {\n    const routerState = router.getState()\n    const isAuthed = !!$auth.getState().user\n\n    if (isAuthed && routerState) {\n      if (state.isLocked && routerState.name !== 'unlock') {\n        router.navigate('unlock')\n      }\n      if (!state.isLocked && routerState.name === 'unlock') {\n        router.navigate('home')\n        // TODO: last url\n      }\n    }\n    return state\n  })\n  .on(setIsAppLocked, (state, value) => {\n    checkIsAppLocked()\n    return {\n      ...state,\n      isLocked: value\n    }\n  })\n\nexport default $locker\n","import { State } from 'router5/dist/types/base'\nimport { $locker } from '../../store/locker/store'\n\nexport const locker = (router: any) => (toState: State, fromState: State, done: any) => {\n  const isLocked = $locker.getState().isLocked\n\n  if (isLocked && toState.name !== 'unlock') {\n    return router.navigate('unlock')\n  }\n  done()\n}\n\nexport default locker\n","import createRouter from 'router5'\nimport loggerPlugin from 'router5-plugin-logger'\nimport browserPlugin from 'router5-plugin-browser'\n\n// middlewares and plugins\nimport session from './middlewares/session'\nimport accessor from './middlewares/accessor'\nimport locker from './middlewares/locker'\n\n// routes\nimport routes from './routes'\n\nexport function configureRouter () {\n  const router = createRouter(routes, {})\n\n  router.usePlugin(loggerPlugin)\n  router.usePlugin(browserPlugin())\n\n  // middleware\n  router.useMiddleware(session, accessor, locker)\n\n  return router\n}\n\nexport default { configureRouter }\n","import { MountedState } from './types'\nimport { AppDomain } from './domain'\n\nexport const setMounted = AppDomain.event<MountedState>()\n","import { createDomain } from 'effector'\n\nexport const AppDomain = createDomain()\n","import React from 'react'\n\nimport './_index.scss'\n\nfunction RoundLoader () {\n  return (\n    <div className=\"component -loader-round\">\n      <svg className=\"svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n          <g transform=\"translate(-629.000000, -385.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n            <path d=\"M631.20799,398.4917 C631.37363,398.8603 631.2091,399.2933 630.8405,399.459 C630.4719,399.6246 630.03881,399.4601 629.873162,399.0915 C629.300253,397.8166 629,396.4285 629,395 C629,389.47726 633.47726,385 639,385 C644.5227,385 649,389.47726 649,395 C649,400.5227 644.5227,405 639,405 C636.65339,405 634.42972,404.1881 632.65267,402.7281 C632.34042,402.4715 632.29526,402.0105 632.55179,401.6982 C632.80833,401.386 633.26941,401.3408 633.58166,401.5973 C635.09934,402.8442 636.9955,403.5366 639,403.5366 C643.7145,403.5366 647.5366,399.7145 647.5366,395 C647.5366,390.28549 643.7145,386.46341 639,386.46341 C634.28549,386.46341 630.46341,390.28549 630.46341,395 C630.46341,396.2208 630.71947,397.4046 631.20799,398.4917 Z\" id=\"Path\"></path>\n          </g>\n        </g>\n      </svg>\n    </div>\n  )\n}\n\nexport default RoundLoader\n","import React, { forwardRef, useEffect, useRef, useState } from 'react'\n\nimport LoaderRound from '../../loader/round'\n\nimport './_index.scss'\n\ninterface ButtonOptions extends React.ButtonHTMLAttributes<any> {\n  fullWidth?: boolean,\n  loading?: boolean,\n  size?: 'default' | 'small',\n  theme?: 'default' | 'ghost'\n}\n\nconst Button = forwardRef((props: ButtonOptions, ref) => {\n  if (!ref) {\n    ref = useRef()\n  }\n\n  const [buttonProps, setButtonProps] = useState({})\n  const classList = `button -component -theme-${props.theme || 'default'} -size-${props.size || 'default'} ${props.fullWidth ? '-full-width' : ''} ${props.loading ? '-loading' : ''}`\n  const innerRef = useRef(null)\n\n  const update = () => {\n    // @ts-ignore\n    ref.current = {}\n\n    // eslint-disable-next-line no-new-object\n    const fieldProps = { ...props } as ButtonOptions\n    delete fieldProps.fullWidth\n    delete fieldProps.loading\n    delete fieldProps.size\n    delete fieldProps.theme\n    setButtonProps(fieldProps)\n  }\n\n  useEffect(() => {\n    update()\n  }, [props])\n\n  return (\n    <div className={classList}>\n      <button {...buttonProps} ref={innerRef}>\n        { props.loading\n          ? <div className=\"loader\">\n            <LoaderRound />\n          </div>\n          : props.children }\n      </button>\n    </div>\n  )\n})\n\nButton.displayName = 'Button'\n\nexport default Button\n","import React from 'react'\n\nimport './_index.scss'\n\nfunction IconLock () {\n  return (\n    <svg className=\"icon -lock\" width=\"12px\" height=\"16px\" viewBox=\"0 0 12 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-858.000000, -67.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(858.000000, 67.000000)\">\n            <path d=\"M9.6969697,6.67253333 L9.6969697,4.12116364 C9.6969697,1.84877576 7.84819394,0 5.57575758,0 C3.30332121,0 1.45459394,1.84877576 1.45459394,4.12116364 L1.45459394,6.67243636 C0.551418182,7.66370909 0,8.9808 0,10.4242424 C0,13.4987152 2.50128485,16 5.57575758,16 C8.6502303,16 11.1515152,13.4987152 11.1515152,10.4242424 C11.1515152,8.9808 10.600097,7.66370909 9.6969697,6.67253333 Z M5.57575758,1.45454545 C7.04615758,1.45454545 8.24242424,2.65081212 8.24242424,4.12116364 L8.24242424,5.5286303 C7.44979394,5.09517576 6.54109091,4.84848485 5.57575758,4.84848485 C4.61047273,4.84848485 3.7017697,5.09517576 2.90913939,5.5286303 L2.90913939,4.12116364 C2.90913939,2.65081212 4.10535758,1.45454545 5.57575758,1.45454545 Z M5.57575758,14.5454545 C3.30332121,14.5454545 1.45454545,12.6966788 1.45454545,10.4242424 C1.45454545,8.15180606 3.30332121,6.3030303 5.57575758,6.3030303 C7.84819394,6.3030303 9.6969697,8.15180606 9.6969697,10.4242424 C9.6969697,12.6966788 7.84819394,14.5454545 5.57575758,14.5454545 Z\" id=\"XMLID_811_\"></path>\n            <path d=\"M5.57575758,8.48484848 C4.90739394,8.48484848 4.36363636,9.02860606 4.36363636,9.6969697 C4.36363636,10.092703 4.55427879,10.4446545 4.84848485,10.6659879 L4.84848485,11.6363636 C4.84848485,12.0380121 5.17410909,12.3636364 5.57575758,12.3636364 C5.97740606,12.3636364 6.3030303,12.0380121 6.3030303,11.6363636 L6.3030303,10.6659879 C6.59723636,10.4446545 6.78787879,10.0926545 6.78787879,9.6969697 C6.78787879,9.02860606 6.24412121,8.48484848 5.57575758,8.48484848 Z\" id=\"XMLID_815_\"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconLock\n","import React from 'react'\n\nfunction IconAdd () {\n  return (\n    <svg className=\"icon -add\" width=\"14px\" height=\"14px\" viewBox=\"0 0 14 14\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-1000.000000, -56.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n          <g transform=\"translate(984.000000, 43.000000)\">\n            <g transform=\"translate(16.000000, 11.000000)\">\n              <g transform=\"translate(0.000000, 2.000000)\">\n                <path d=\"M7,0 C10.8599548,0 14,3.14004518 14,7 C14,10.8599548 10.8599548,14 7,14 C3.14004518,14 0,10.8599548 0,7 C0,3.14004518 3.14004518,0 7,0 Z M7,3.35420228 C6.67796325,3.35420228 6.41670228,3.61546325 6.41670228,3.9375 L6.41670228,3.9375 L6.41670228,6.41670228 L3.9375,6.41670228 C3.61546325,6.41670228 3.35420228,6.67796325 3.35420228,7 C3.35420228,7.32203675 3.61546325,7.58329772 3.9375,7.58329772 L3.9375,7.58329772 L6.41670228,7.58329772 L6.41670228,10.0625 C6.41670228,10.3845368 6.67796325,10.6457977 7,10.6457977 C7.32203675,10.6457977 7.58329772,10.3845368 7.58329772,10.0625 L7.58329772,10.0625 L7.58329772,7.58329772 L10.0625,7.58329772 C10.3845368,7.58329772 10.6457977,7.32203675 10.6457977,7 C10.6457977,6.67796325 10.3845368,6.41670228 10.0625,6.41670228 L10.0625,6.41670228 L7.58329772,6.41670228 L7.58329772,3.9375 C7.58329772,3.61546325 7.32203675,3.35420228 7,3.35420228 Z\" id=\"Path-3\"></path>\n              </g>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default IconAdd\n","import React from 'react'\nimport { Link } from 'react-router5'\nimport { lock } from '../../store/locker/events'\n\nimport UIButton from '../ui/button'\nimport IconLock from '../icons/lock'\nimport IconAdd from '../icons/add'\n\nimport './_index.scss'\n\nfunction Header () {\n  const lockApp = (e: React.FormEvent) => {\n    e.preventDefault()\n    lock()\n  }\n\n  return (\n    <header className=\"component -header flex a-center j-between\">\n      <nav>\n        <Link routeName=\"home\">Home</Link>\n        <Link routeName=\"profile\">Account</Link>\n        {/* <Link routeName=\"about\">About</Link> */}\n        <a href=\"https://github.com/star-tech-dev/passwords-frontend\" target=\"_blank\" rel=\"noreferrer\">Github</a>\n      </nav>\n      <div className=\"right flex a-center\">\n        <UIButton size=\"small\" theme=\"ghost\" onClick={lockApp}>\n          <IconLock />\n          <span>Lock app</span>\n        </UIButton>\n        <Link routeName=\"add\">\n          <UIButton size=\"small\">\n            <IconAdd />\n            <span>New item</span>\n          </UIButton>\n        </Link>\n      </div>\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport HeaderComponent from '../components/header'\n\nconst DefaultLayout: React.FC = ({ children }) => {\n  return (\n    <div className=\"layout -default\">\n      <div className=\"container\">\n        <HeaderComponent />\n        <main>{children}</main>\n      </div>\n    </div>\n  )\n}\n\nDefaultLayout.propTypes = {\n  children: PropTypes.node\n}\n\nexport default DefaultLayout\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport './_index.scss'\n\nconst SimpleLayout: React.FC = ({ children }) => {\n  return (\n    <div className=\"layout -simple\">\n      <main>\n        <div className=\"container\">\n          {children}\n        </div>\n      </main>\n    </div>\n  )\n}\n\nSimpleLayout.propTypes = {\n  children: PropTypes.node\n}\n\nexport default SimpleLayout\n","/**\n * next tick helper\n * @param cb {function}\n */\nexport const nextTick = (cb: any) => {\n  setTimeout(cb, 0)\n}\n\nexport default {\n  nextTick\n}\n","import { createDomain } from 'effector'\n\nexport const ItemsDomain = createDomain()\n","import { ItemsDomain } from './domain'\nimport { sendRequest } from '../../api'\nimport { ItemId, Item, ItemPayload } from './types'\n\nexport const getItems = ItemsDomain.createEffect<void, Array<Item>>().use(() => {\n  return sendRequest({\n    url: '/items'\n  }).catch(() => [])\n})\n\nexport const getItem = ItemsDomain.createEffect<ItemId, Item>().use(id => {\n  return sendRequest({\n    data: { id },\n    url: '/item'\n  })\n})\n\nexport const createItem = ItemsDomain.createEffect<ItemPayload, Item>().use(payload => {\n  return sendRequest({\n    method: 'post',\n    data: payload,\n    url: '/items'\n  })\n})\n","import { createStore } from 'effector'\nimport { createItem, getItems } from './events'\nimport { State } from './types'\n\nconst initialState: State = []\n\nexport const $items = createStore(initialState)\n  .on(getItems.done, (state, { result }) => {\n    state = result\n    return state\n  })\n  .on(createItem.done, (state, { result }) => {\n    if (result) {\n      state.push(result)\n    }\n    return state\n  })\n\nexport default $items\n","import React from 'react'\nimport { useRouter } from 'react-router5'\nimport { Item as ItemInterface } from '../../store/items/types'\n\nimport './_index.scss'\n\ninterface ItemProps {\n  data: ItemInterface\n}\n\nfunction Index ({ data }: ItemProps) {\n  const subtitle = data.username || data.url || data.note || ''\n  const title = data.name || subtitle\n  const mode = 'compact'\n  // const [mode, setMode] = useState('compact')\n  const router = useRouter()\n\n  // console.log('setMode', setMode)\n\n  const onClick = () => {\n    router.navigate('item', { id: data._id })\n  }\n\n  return (\n    <div className={`component -item -mode-${mode}`} onClick={onClick}>\n      <div className=\"flex a-start\">\n        <div className=\"image\">\n          <img src=\"\" alt=\"\"/>\n        </div>\n        <div className=\"content\">\n          <div className=\"title\">{title}</div>\n          <div className=\"subtitle\">{subtitle}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Index\n","import React, { useEffect } from 'react'\nimport { useStore } from 'effector-react'\nimport { $items } from '../../store/items/store'\nimport { getItems } from '../../store/items/events'\n\nimport Item from '../item'\n\nimport './_index.scss'\n\nfunction Items () {\n  const items = useStore($items)\n\n  const list = () => items.map(item => {\n    return <Item data={item} key={item._id} />\n  })\n\n  const onMounted = async () => {\n    await getItems()\n  }\n\n  useEffect(() => {\n    onMounted()\n  }, [])\n\n  return (\n    <div className=\"component -item-list\">\n      <div className=\"grid\">\n        {list()}\n      </div>\n    </div>\n  )\n}\n\nexport default Items\n","import React from 'react'\n\ninterface IconOptions extends React.HTMLAttributes<any> {}\n\nfunction InfoIcon (props: IconOptions) {\n  return (\n    <div {...props} className=\"icon -cross\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 18 18\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n          <g transform=\"translate(-410.000000, -395.000000)\" fill=\"currentColor\" fillRule=\"nonzero\">\n            <g transform=\"translate(121.000000, 380.000000)\">\n              <g id=\"information\" transform=\"translate(289.000000, 15.000000)\">\n                <path d=\"M9,0 C13.9626,0 18,4.03745455 18,9.00005455 C18,13.9626545 13.9626,18 9,18 C4.0374,18 0,13.9626545 0,9.00005455 C0,4.03745455 4.0374,0 9,0 Z M9,7.63636364 C8.54814545,7.63636364 8.18181818,8.00269091 8.18181818,8.45454545 L8.18181818,13.3636364 C8.18181818,13.8154909 8.54814545,14.1818182 9,14.1818182 C9.45185455,14.1818182 9.81818182,13.8154909 9.81818182,13.3636364 L9.81818182,8.45454545 C9.81818182,8.00269091 9.45185455,7.63636364 9,7.63636364 Z M8.99989091,3.81818182 C8.39847273,3.81818182 7.9092,4.30778182 7.9092,4.90958182 C7.9092,5.51083636 8.39847273,6 8.99989091,6 C9.60130909,6 10.0905818,5.51083636 10.0905818,4.90958182 C10.0905818,4.30778182 9.60130909,3.81818182 8.99989091,3.81818182 Z\"></path>\n              </g>\n            </g>\n          </g>\n        </g>\n      </svg>\n    </div>\n  )\n}\n\nexport default InfoIcon\n","import React, { forwardRef, useEffect, useRef, useState } from 'react'\nimport tippy from 'tippy.js'\nimport { nextTick } from '../../../helpers/next-tick'\n\nimport IconInfo from '../../icons/info'\n\nimport './_index.scss'\n\ninterface InputOptions extends React.InputHTMLAttributes<any> {\n  theme?: 'default' | 'clean',\n  model?: any,\n  error?: any\n}\n\nconst Input = forwardRef((props: InputOptions, ref: any) => {\n  if (!ref) {\n    ref = useRef()\n  }\n\n  const [localError, setLocalError] = useState(props.error)\n  const innerRef = useRef(null)\n  const iconError = React.useRef<HTMLInputElement>(null)\n  const classList = `input -component -theme-${props.theme || 'default'} ${props.error ? '-error' : ''}`\n\n  const focus = () => {\n    nextTick(() => {\n      innerRef.current && (innerRef.current as HTMLInputElement | null)?.focus()\n    })\n  }\n\n  const select = () => {\n    nextTick(() => {\n      innerRef.current && (innerRef.current as HTMLInputElement | null)?.select()\n    })\n  }\n\n  const onTooltipClick = (e: React.FormEvent) => {\n    e.preventDefault()\n    focus()\n  }\n\n  const onInput = (e: React.FormEvent) => {\n    if (props.onInput) {\n      props.onInput(e)\n    }\n    setLocalError('')\n  }\n\n  useEffect(() => {\n    if (localError) {\n      if (iconError.current) {\n        tippy(iconError.current, {\n          placement: 'top-end',\n          content: localError\n        })\n      }\n    }\n  }, [localError])\n\n  useEffect(() => {\n    setLocalError(props.error)\n  }, [])\n\n  useEffect(() => {\n    ref.current = { focus, select }\n  }, [ref])\n\n  useEffect(() => {\n    setLocalError(props.error)\n  }, [props.error])\n\n  return (\n    <div className={classList}>\n      <div className=\"buttons\">\n        {localError\n          ? <div ref={iconError} className=\"icon-error\" onClick={e => onTooltipClick(e)}>\n          <IconInfo />\n        </div>\n          : null}\n      </div>\n      <input\n        {...props}\n        ref={innerRef}\n        type={props.type || 'text'}\n        onInput={(e) => onInput(e)} />\n    </div>\n  )\n})\n\nInput.displayName = 'Input'\n\nexport default Input\n","import React, { forwardRef, useEffect, useRef, useState } from 'react'\n\nimport './_index.scss'\nimport UIInput from '../ui/input'\n\nconst SearchBar = forwardRef((props, ref: any) => {\n  const [_timeout, _setTimeout] = useState<any>(null)\n  const [query, setQuery] = useState('')\n  const innerRef = useRef(null)\n\n  const filterItems = () => {\n    // console.log('filterItems')\n  }\n\n  useEffect(() => {\n    clearTimeout(_timeout)\n    _setTimeout(null)\n\n    query\n      ? _setTimeout(setTimeout(filterItems, 1000))\n      : filterItems()\n  }, [query])\n\n  useEffect(() => {\n    ref.current = {\n      focus: (innerRef.current as any)?.focus\n    }\n  }, [ref])\n\n  return (\n    <div className=\"component -search-bar\">\n      <UIInput\n        ref={innerRef}\n        value={query}\n        theme=\"clean\"\n        placeholder=\"Start typing to search...\"\n        onInput={(e: React.ChangeEvent<HTMLInputElement>) => setQuery(e.target.value)} />\n    </div>\n  )\n})\n\nSearchBar.displayName = 'SearchBar'\n\nexport default SearchBar\n","import React, { useEffect } from 'react'\nimport { nextTick } from '../helpers/next-tick'\n\nimport Items from '../components/items'\nimport SearchBar from '../components/search-bar'\n\nfunction HomePage () {\n  const searchField = React.createRef()\n\n  useEffect(() => {\n    nextTick(() => {\n      (searchField.current as any)?.focus()\n    })\n  }, [])\n\n  return (\n    <div className=\"page -home\">\n      <div>\n        <div className=\"flex a-center j-between\">\n          <div>\n            <SearchBar ref={searchField} />\n          </div>\n          <div>sort by:</div>\n        </div>\n\n        <div>\n          <Items />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default HomePage\n","import React, { useEffect } from 'react'\nimport { $auth } from '../store/auth/store'\nimport { logout as sendLogoutRequest } from '../store/auth/events'\nimport { useRouter } from 'react-router5'\nimport { useStore } from 'effector-react'\n\nfunction ProfilePage () {\n  const router = useRouter()\n  const user = useStore($auth).user\n\n  const redirect = () => {\n    router.navigate('home')\n  }\n\n  const logout = async () => {\n    await sendLogoutRequest()\n    redirect()\n  }\n\n  useEffect(() => {\n    if (!user) {\n      redirect()\n    }\n  }, [user])\n\n  if (user) {\n    return (\n      <div className=\"page -profile\">\n        <div>ProfilePage</div>\n        <div className=\"flex a-center\">\n          <div>name</div>\n          <input type=\"text\" value={user.username} readOnly />\n        </div>\n        <div className=\"flex a-center\">\n          <div>hasSecurityCode</div>\n          <input type=\"checkbox\" checked={user.hasSecurityCode} readOnly />\n        </div>\n        <div>\n          <button onClick={logout}>logout</button>\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default ProfilePage\n","import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'react-router5'\nimport { checkUserSecurityCode, login as sendLoginRequest } from '../../../store/auth/events'\nimport { nextTick } from '../../../helpers/next-tick'\n\nimport UIInput from '../../ui/input'\nimport UIButton from '../../ui/button'\n\nimport './_index.scss'\n\ninterface LoginFormOptions {\n  onRegisterShow?: () => void\n}\n\nfunction Index ({ onRegisterShow }: LoginFormOptions) {\n  const [loginUsername, setLoginUsername] = useState('')\n  const [loginPassword, setLoginPassword] = useState('')\n  const [usernameError, setUsernameError] = useState('')\n  const [passwordError, setPasswordError] = useState('')\n\n  const router = useRouter()\n\n  const usernameField = React.createRef()\n  const passwordField = React.createRef()\n  const [isLoading, setIsLoading] = useState(false)\n\n  const login = async () => {\n    setIsLoading(true)\n    const successResponse = await sendLoginRequest({\n      username: loginUsername,\n      password: loginPassword\n    }).then(() => true)\n      .catch(() => {\n        (passwordField.current as any).focus();\n        (passwordField.current as any).select()\n        setPasswordError('Failed to sign in')\n        return false\n      })\n\n    setIsLoading(false)\n\n    if (successResponse) {\n      await router.navigate('home')\n      checkUserSecurityCode()\n    }\n  }\n\n  const validateForm = () => {\n    const res = []\n\n    if (!loginUsername.length) {\n      res.push({\n        field: 'username',\n        message: 'This field is required'\n      });\n      (usernameField.current as any).focus()\n      return res\n    }\n    if (!loginPassword.length) {\n      res.push({\n        field: 'password',\n        message: 'This field is required'\n      })\n      if (loginUsername.length) {\n        (passwordField.current as any).focus()\n      }\n    }\n\n    return res\n  }\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    const errorsFound = validateForm()\n\n    if (errorsFound.length) {\n      errorsFound.forEach(error => {\n        switch (error.field) {\n          case 'username':\n            setUsernameError(error.message)\n            break\n          case 'password':\n            setPasswordError(error.message)\n            break\n        }\n      })\n      console.log({\n        username: loginUsername,\n        password: loginPassword\n      })\n      return\n    }\n\n    login()\n  }\n\n  const goToRegister = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (onRegisterShow) {\n      onRegisterShow()\n    }\n  }\n\n  useEffect(() => {\n    nextTick(() => {\n      (usernameField.current as any).focus()\n    })\n  }, [])\n\n  return (\n    <div className=\"component -login-form\">\n      <form onSubmit={onSubmit}>\n        <div>\n          <UIInput\n            ref={usernameField}\n            placeholder=\"Username\"\n            error={usernameError}\n            onInput={() => setUsernameError('')}\n            onChange={e => setLoginUsername(e.target.value)}\n            onBlur={e => !e.target.value.length ? setUsernameError('') : null } />\n        </div>\n        <div>\n          <UIInput\n            ref={passwordField}\n            type=\"password\"\n            placeholder=\"Password\"\n            error={passwordError}\n            onInput={() => setPasswordError('')}\n            onChange={e => setLoginPassword(e.target.value)}\n            onBlur={e => !e.target.value.length ? setPasswordError('') : null } />\n        </div>\n\n        <div className=\"button-block\">\n          <UIButton type=\"submit\" loading={isLoading} fullWidth={true}>Sign in</UIButton>\n        </div>\n        <div>\n          <span>or </span>\n          <a href=\"#\" onClick={goToRegister}>create new account</a>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Index\n","import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'react-router5'\nimport { checkUserSecurityCode, register as sendRegisterRequest } from '../../store/auth/events'\nimport { nextTick } from '../../helpers/next-tick'\n\nimport UIInput from '../ui/input'\nimport UIButton from '../ui/button'\n\ninterface RegisterFormOptions {\n  onLoginShow?: () => void\n}\n\nfunction RegisterForm ({ onLoginShow }: RegisterFormOptions) {\n  const [registerUsername, setRegisterUsername] = useState('')\n  const [registerPassword, setRegisterPassword] = useState('')\n  const [registerEmail, setRegisterEmail] = useState('')\n\n  const router = useRouter()\n  const usernameField = React.createRef()\n\n  const register = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await sendRegisterRequest({\n      username: registerUsername,\n      email: registerEmail,\n      password: registerPassword\n    }).then(async () => {\n      await router.navigate('home')\n      checkUserSecurityCode()\n    })\n  }\n\n  const goToLogin = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (onLoginShow) {\n      onLoginShow()\n    }\n  }\n\n  useEffect(() => {\n    nextTick(() => {\n      (usernameField.current as any).focus()\n    })\n  }, [])\n\n  return (\n    <div className=\"component -register-form\">\n      <form onSubmit={register}>\n        <div>\n          <UIInput ref={usernameField} placeholder=\"Username\" onChange={e => setRegisterUsername(e.target.value)} />\n        </div>\n        <div>\n          <UIInput type=\"email\" placeholder=\"Email\" onChange={e => setRegisterEmail(e.target.value)} />\n        </div>\n        <div>\n          <UIInput placeholder=\"Password\" onChange={e => setRegisterPassword(e.target.value)} />\n        </div>\n        <div className=\"button-block\">\n          <UIButton type=\"submit\" fullWidth={true}>Sign up</UIButton>\n        </div>\n        <div>\n          <span>or </span>\n          <a href=\"#\" onClick={goToLogin}>return to login</a>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default RegisterForm\n","import React, { useState } from 'react'\n\nimport LoginForm from '../../components/auth/login-form'\nimport RegisterForm from '../../components/auth/register-form'\n\nimport './_index.scss'\n\nfunction AuthPage () {\n  const [mode, setMode] = useState('login')\n\n  return (\n    <div className=\"page -auth\">\n      <h1>\n        {mode === 'register'\n          ? <span>Let&apos;s create a new account:</span>\n          : <span>Hi, I&apos;m your password manager.</span> }\n      </h1>\n\n      <div className=\"container -narrow\">\n        {mode === 'register'\n          ? <RegisterForm onLoginShow={() => setMode('login')} />\n          : <LoginForm onRegisterShow={() => setMode('register')} /> }\n      </div>\n    </div>\n  )\n}\n\nexport default AuthPage\n","import React, { useEffect, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport { useRouter } from 'react-router5'\nimport { nextTick } from '../../helpers/next-tick'\nimport { unlock } from '../../store/locker/events'\nimport { logout as _logout } from '../../store/auth/events'\nimport { $auth } from '../../store/auth/store'\n\nimport UIInput from '../../components/ui/input'\nimport UIButton from '../../components/ui/button'\n\nimport './_index.scss'\n\nfunction UnlockPage () {\n  const [_loading, _setLoading] = useState(false)\n  const [code, setCode] = useState('')\n  const [codeFieldError, setCodeFieldError] = useState('')\n  const user = useStore($auth).user\n  const router = useRouter()\n  const codeField = React.createRef()\n\n  const logout = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await _logout()\n    router.navigate('auth')\n  }\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!code.length) {\n      setCodeFieldError('This field is required')\n      nextTick(() => {\n        (codeField.current as any)?.focus()\n      })\n      return\n    }\n\n    _setLoading(true)\n    await unlock(code).catch(e => {\n      setCodeFieldError('')\n      setCodeFieldError(e.response.data.message)\n      nextTick(() => {\n        (codeField.current as any)?.focus()\n      })\n    })\n\n    _setLoading(false)\n  }\n\n  useEffect(() => {\n    nextTick(() => {\n      (codeField.current as any)?.focus()\n    })\n    return () => {}\n  }, [])\n\n  return (\n    <div className=\"page -unlock\">\n      <h1>App is locked!</h1>\n\n      <div className=\"flex column center\">\n        <div>Enter your security code to unlock the app:</div>\n\n        <form className=\"flex column\" onSubmit={onSubmit}>\n          <div>\n            <UIInput ref={codeField} type=\"password\" error={codeFieldError} placeholder=\"your_security_code\" value={code} onInput={(e: React.ChangeEvent<HTMLInputElement>) => setCode(e.target.value)} />\n          </div>\n          <div>\n            <UIButton type=\"submit\" loading={_loading} fullWidth={true}>Unlock</UIButton>\n          </div>\n        </form>\n\n        <div className=\"bottom flex a-center\">\n          <div>You signed as&nbsp;</div>\n          <div className=\"name\">{user?.username}</div>\n          <div>.&nbsp;</div>\n          <a href=\"#\" onClick={logout}>logout</a>\n          <div>.</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UnlockPage\n","/**\n * is all fields empty helper\n * @param data {object}\n * @param exclude {array}\n * @returns {boolean}\n */\nexport const isAllFieldsEmpty = (data: object, exclude: string[] = []) => {\n  let isFilled = false\n  Object.entries(data).every(pair => {\n    if (exclude.includes(pair[0])) {\n      return true\n    }\n    if (pair[1]) {\n      isFilled = true\n      return false\n    }\n    return true\n  })\n  return !isFilled\n}\n\nexport default {\n  isAllFieldsEmpty\n}\n","import React, { useState } from 'react'\nimport { useRoute } from 'react-router5'\nimport { createItem } from '../store/items/events'\nimport { isAllFieldsEmpty } from '../helpers/validator'\n\nfunction AddItemPage () {\n  const { router } = useRoute()\n  const [name, setName] = useState('')\n  const [url, setUrl] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [note, setNote] = useState('')\n\n  const create = async (e: React.FormEvent) => {\n    e.preventDefault()\n    const item = {\n      group: null,\n      name,\n      url,\n      username,\n      password,\n      note\n    }\n\n    if (isAllFieldsEmpty(item, ['group'])) {\n      alert('Cannot save empty item.')\n    } else {\n      const res = await createItem(item)\n      router.navigate('item', { id: res._id })\n    }\n  }\n\n  return (\n    <div className=\"Page Home\">\n      <div>Add newItem:</div>\n      <form onSubmit={create}>\n        <div>\n          <div>name</div>\n          <input type=\"text\" name=\"name\" value={name} onInput={(e: React.ChangeEvent<HTMLInputElement>) => setName(e.target.value)}/>\n        </div>\n        <div>\n          <div>url</div>\n          <input type=\"text\" name=\"url\" value={url} onInput={(e: React.ChangeEvent<HTMLInputElement>) => setUrl(e.target.value)}/>\n        </div>\n        <div>\n          <div>username</div>\n          <input type=\"text\" name=\"username\" value={username} onInput={(e: React.ChangeEvent<HTMLInputElement>) => setUsername(e.target.value)}/>\n        </div>\n        <div>\n          <div>password</div>\n          <input type=\"text\" name=\"password\" value={password} onInput={(e: React.ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)}/>\n        </div>\n        <div>\n          <div>note</div>\n          <textarea name=\"note\" value={note} onInput={(e: React.ChangeEvent<HTMLTextAreaElement>) => setNote(e.target.value)}/>\n        </div>\n        <div>\n          <button type=\"submit\">create</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default AddItemPage\n","import React, { useEffect, useState } from 'react'\nimport { useRoute } from 'react-router5'\nimport { getItem } from '../store/items/events'\nimport { Item } from '../store/items/types'\n\nfunction ItemPage () {\n  // @ts-ignore // null as initial state\n  const [data, setData] = useState<Item>(null)\n  const { route, router } = useRoute()\n\n  useEffect(() => {\n    async function _getData () {\n      getItem(route.params.id).then(res => {\n        setData(res)\n      }).catch(() => router.navigate('home'))\n    }\n    _getData()\n    return () => {}\n  }, [route.params.id])\n\n  return (\n    <div className=\"Page Profile\">\n      <div>ItemPage</div>\n      { data\n        ? <div>\n          <div>\n            <div>name</div>\n            <input type=\"text\" value={data.name} readOnly />\n          </div>\n          <div>\n            <div>url</div>\n            <input type=\"text\" value={data.url} readOnly />\n          </div>\n          <div>\n            <div>username</div>\n            <input type=\"text\" value={data.username} readOnly />\n          </div>\n          <div>\n            <div>password</div>\n            <input type=\"text\" value={data.password} readOnly />\n          </div>\n          <div>\n            <div>note</div>\n            <textarea value={data.note} readOnly />\n          </div>\n        </div>\n        : null }\n    </div>\n  )\n}\n\nexport default ItemPage\n","import React from 'react'\n\nfunction NotFound () {\n  return (\n    <div className=\"page -not-found\">\n      <div>404</div>\n    </div>\n  )\n}\n\nexport default NotFound\n","import React from 'react'\nimport RoundLoader from '../round'\n\nimport './_index.scss'\n\nfunction Loader () {\n  return (\n    <div className=\"component -page-loader flex center\">\n      <RoundLoader />\n    </div>\n  )\n}\n\nexport default Loader\n","import { createStore } from 'effector'\nimport { closeAllModals, closeLastModal, closeModal, openModal } from './events'\nimport { State } from './types'\n\nconst initialState: State = []\n\nexport const $modals = createStore<State>(initialState)\n  .on(openModal, (state, id) => {\n    const set = new Set([...state, ...[id]])\n    state = Array.from(set) as State\n    return state\n  })\n  .on(closeModal, (state, id) => {\n    state = state.filter((i) => i !== id)\n    return state\n  })\n  .on(closeLastModal, state => {\n    state = state.slice(0, 1)\n    return state\n  })\n  .on(closeAllModals, () => [])\n\nexport default $modals\n","import React from 'react'\n\nfunction CrossIcon () {\n  return (\n    <div className=\"icon -cross\">\n      <div>x</div>\n    </div>\n  )\n}\n\nexport default CrossIcon\n","import React, { useEffect, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport { $modals } from '../../../store/modals/store'\nimport { closeModal } from '../../../store/modals/events'\nimport { ModalName } from '../../../store/modals/types'\nimport CrossIcon from '../../icons/cross'\nimport PropTypes from 'prop-types'\n\nimport './_index.scss'\n\ninterface ModalWrapperProps {\n  id: ModalName,\n  children?: any,\n  closable?: boolean,\n  heading?: any,\n  size?: 'default' | 'auto',\n  onOpen?: Function,\n  onClose?: Function\n}\n\nfunction ModalWrapper (props: ModalWrapperProps) {\n  if (props.closable === undefined) {\n    props.closable = true\n  }\n\n  const [_mounted, _setMounted] = useState(false)\n  const modals = useStore($modals)\n  const [show, setShow] = useState(false)\n  const classList = `component modal -${props.id} -size-${props.size || 'default'}`\n\n  useEffect(() => {\n    _setMounted(true)\n  }, [])\n\n  useEffect(() => {\n    const unwatch = $modals.watch(modals => {\n      setShow(modals.includes(props.id))\n    })\n    return () => {\n      unwatch()\n    }\n  }, [modals])\n\n  useEffect(() => {\n    if (_mounted) {\n      if (show && props.onOpen) {\n        props.onOpen()\n      }\n      if (!show && props.onClose) {\n        props.onClose()\n      }\n    }\n  }, [show])\n\n  const close = () => {\n    if (props.closable) {\n      closeModal(props.id)\n    }\n  }\n\n  const onParentClick = (e: React.MouseEvent) => {\n    const target = e.target as Element\n    if (target.classList.contains('Modal') && target.classList.contains('Component')) {\n      close()\n    }\n  }\n\n  if (show) {\n    return (\n      <div className={classList} onClick={onParentClick}>\n        <dialog open className=\"dialog\">\n          {props.closable && <div className=\"close\" onClick={close}>\n            <CrossIcon/>\n          </div>}\n          <div className=\"head\">\n            <div className=\"h2 flex center\">{props.heading}</div>\n          </div>\n          <div className=\"body\">{props.children}</div>\n        </dialog>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nModalWrapper.propTypes = {\n  id: PropTypes.string,\n  children: PropTypes.any,\n  closable: PropTypes.bool,\n  heading: PropTypes.any\n}\n\nexport default ModalWrapper\n","import React, { useEffect, useState } from 'react'\nimport ModalWrapper from './wrapper'\nimport { logout, setUserSecurityCode } from '../../store/auth/events'\nimport { closeModal } from '../../store/modals/events'\nimport { nextTick } from '../../helpers/next-tick'\n\nfunction SetSecurityCodeModal () {\n  const id = 'set_security_code'\n  const [code, setCode] = useState('')\n\n  let codeField = null as HTMLInputElement | null\n  const setCodeFieldRef = (element: HTMLInputElement) => {\n    codeField = element\n  }\n\n  const _logout = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await logout()\n    closeModal(id)\n  }\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await setUserSecurityCode(code)\n  }\n\n  useEffect(() => {\n    nextTick(() => {\n      codeField?.focus()\n    })\n  }, [codeField])\n\n  return (\n    <ModalWrapper id={id} closable={false}>\n      <form onSubmit={onSubmit}>\n        <div>Set your security code:</div>\n        <div>\n          <input type=\"text\" ref={setCodeFieldRef} value={code} onInput={(e: React.ChangeEvent<HTMLInputElement>) => setCode(e.target.value)} />\n        </div>\n        <div>\n          <button type=\"submit\">Set</button>\n        </div>\n        <div>Do not forget your secret code!</div>\n      </form>\n\n      <div>\n        <a href=\"#\" onClick={_logout}>logout</a>\n      </div>\n    </ModalWrapper>\n  )\n}\n\nexport default SetSecurityCodeModal\n","import React, { useEffect, useState } from 'react'\nimport { $modals } from '../../../store/modals/store'\n\nimport SetSecurityCodeModal from '../set-security-code'\n\nimport './_index.scss'\n\nfunction ModalController () {\n  const [show, setShow] = useState(false)\n\n  useEffect(() => {\n    const unwatch = $modals.watch(modals => {\n      setShow(!!modals.length)\n    })\n    return () => {\n      unwatch()\n    }\n  })\n\n  return (\n    <div className={`Modal Controller ${show ? '-active' : ''}`}>\n      <SetSecurityCodeModal />\n    </div>\n  )\n}\n\nexport default ModalController\n","import React, { useEffect } from 'react'\nimport { useRoute } from 'react-router5'\nimport { useStore } from 'effector-react'\nimport { setMounted } from './store/app/events'\nimport { checkUserSecurityCode } from './store/auth/events'\nimport { $locker } from './store/locker/store'\nimport { checkIsAppLocked } from './store/locker/events'\n\n// layouts\nimport DefaultLayout from './layouts/default'\nimport SimpleLayout from './layouts/simple'\n\n// App pages\nimport HomePage from './pages/home'\nimport ProfilePage from './pages/profile'\nimport AuthPage from './pages/auth'\nimport UnlockPage from './pages/unlock'\nimport AddItemPage from './pages/add-item'\nimport ItemPage from './pages/item'\nimport NotFound from './pages/not-found'\n\n// Layout components\nimport Loader from './components/loader/page-loader'\nimport ModalController from './components/modals/controller'\n\nfunction App () {\n  const { route } = useRoute()\n  const locker = useStore($locker)\n\n  useEffect(() => {\n    const unwatchMounted = setMounted.watch(mounted => {\n      if (mounted) {\n        /**\n         * app mounted after loader\n         */\n        checkUserSecurityCode()\n      }\n    })\n    return () => {\n      unwatchMounted()\n    }\n  }, [])\n\n  useEffect(() => {\n    checkIsAppLocked()\n  }, [locker])\n\n  function Switch () {\n    switch (route.name) {\n      case 'home':\n        return <DefaultLayout><HomePage /></DefaultLayout>\n      case 'auth':\n        return <SimpleLayout><AuthPage /></SimpleLayout>\n      case 'unlock':\n        return <SimpleLayout><UnlockPage /></SimpleLayout>\n      case 'profile':\n        return <DefaultLayout><ProfilePage /></DefaultLayout>\n      case 'add':\n        return <DefaultLayout><AddItemPage /></DefaultLayout>\n      case 'item':\n        return <DefaultLayout><ItemPage /></DefaultLayout>\n      default:\n        return <SimpleLayout><NotFound /></SimpleLayout>\n    }\n  }\n\n  if (route) {\n    return (\n      <div className=\"app\">\n        <Switch />\n        <ModalController />\n      </div>\n    )\n  } else {\n    return (\n      <Loader />\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { RouterProvider } from 'react-router5'\nimport { configureRouter as createRouter } from './router'\nimport { setMounted } from './store/app/events'\n// import reportWebVitals from './report-web-vitals'\n\nimport App from './app'\n\nimport './assets/scss/index.scss'\n\nexport const router = createRouter()\n\nReactDOM.render(\n  <RouterProvider router={router}>\n    <App />\n  </RouterProvider>,\n  document.getElementById('root')\n)\n\nrouter.start(() => {\n  setMounted(true)\n})\n\n// If you want to start measuring performance in your app, pass a function.\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log)\n"],"sourceRoot":""}